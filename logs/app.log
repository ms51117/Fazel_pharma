2025-11-09 19:30:21,389 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:30:21,393 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:30:28,011 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49959 - "GET /admin/admin/dashboard HTTP/1.1" 500
2025-11-09 19:30:28,012 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("admin/dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 209, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 132, in get_template
    return self.env.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 607, in load
    raise TemplateNotFound(name)
jinja2.exceptions.TemplateNotFound: admin/dashboard.html
2025-11-09 19:31:03,710 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:31:03,819 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:31:03,820 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:31:03,821 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:31:03,822 - uvicorn.error - INFO - server:94 - Finished server process [15568]
2025-11-09 19:36:32,398 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:36:32,402 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:36:46,496 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50130 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:52,415 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:53,015 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:53,414 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:53,616 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:53,804 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:54,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:54,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:36:54,383 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50131 - "GET /admin/admin/dashboard HTTP/1.1" 404
2025-11-09 19:37:03,742 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:37:03,851 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:37:03,852 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:37:03,853 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:37:03,854 - uvicorn.error - INFO - server:94 - Finished server process [18356]
2025-11-09 19:37:08,462 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:37:08,466 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:37:16,165 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50156 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:37:17,417 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50156 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:37:17,418 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("admin/dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 209, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 132, in get_template
    return self.env.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 607, in load
    raise TemplateNotFound(name)
jinja2.exceptions.TemplateNotFound: admin/dashboard.html
2025-11-09 19:44:32,924 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:44:33,032 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:44:33,036 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:44:33,037 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:44:33,038 - uvicorn.error - INFO - server:94 - Finished server process [11936]
2025-11-09 19:44:39,905 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:44:39,909 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:44:43,990 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50398 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:44:43,991 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "admin/layout.html" %}
jinja2.exceptions.TemplateNotFound: admin/layout.html
2025-11-09 19:46:15,165 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:46:15,273 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:46:15,274 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:46:15,275 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:46:15,276 - uvicorn.error - INFO - server:94 - Finished server process [2348]
2025-11-09 19:46:19,151 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:46:19,156 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:46:21,277 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50452 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:46:21,279 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
jinja2.exceptions.TemplateNotFound: sqladmin/layout.html
2025-11-09 19:46:24,212 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50453 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:46:24,719 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50453 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:46:24,721 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
jinja2.exceptions.TemplateNotFound: sqladmin/layout.html
2025-11-09 19:47:45,141 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:47:45,250 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:47:45,253 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:47:45,255 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:47:45,256 - uvicorn.error - INFO - server:94 - Finished server process [14084]
2025-11-09 19:47:49,664 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:47:49,669 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:47:54,106 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50499 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:47:54,108 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "layout.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templates\sqladmin\layout.html", line 1, in top-level template code
    {% extends "sqladmin/base.html" %}
jinja2.exceptions.TemplateNotFound: sqladmin/base.html
2025-11-09 19:52:12,993 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:52:13,102 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:52:13,105 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:52:13,107 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:52:13,108 - uvicorn.error - INFO - server:94 - Finished server process [17536]
2025-11-09 19:52:18,097 - app - INFO - config:48 - Application startup......................................
2025-11-09 19:52:18,101 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 19:52:23,081 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:23,154 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/statics/webfonts/fa-solid-900.woff2 HTTP/1.1" 304
2025-11-09 19:52:23,451 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:23,646 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:23,818 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:23,997 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:24,153 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:24,341 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:24,485 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:24,659 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:24,806 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 19:52:25,466 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50605 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 19:52:25,467 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
jinja2.exceptions.TemplateNotFound: sqladmin/layout.html
2025-11-09 19:59:19,867 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 19:59:19,978 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 19:59:19,981 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 19:59:19,982 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 19:59:19,983 - uvicorn.error - INFO - server:94 - Finished server process [11920]
2025-11-09 20:00:56,395 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:00:56,400 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:01:02,885 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50746 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 20:01:03,586 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50746 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 20:01:09,072 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50747 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:01:09,073 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 75, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\admin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
jinja2.exceptions.TemplateNotFound: sqladmin/layout.html
2025-11-09 20:01:30,261 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:01:30,368 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:01:30,372 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:01:30,374 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:01:30,375 - uvicorn.error - INFO - server:94 - Finished server process [6732]
2025-11-09 20:07:55,286 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:07:55,291 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:07:59,815 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50823 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 20:08:00,661 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50823 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 20:08:01,703 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50823 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:08:01,705 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 69, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 209, in get_source
    raise TemplateNotFound(
jinja2.exceptions.TemplateNotFound: 'sqladmin/layout.html' not found in search path: 'C:\\Users\\MS511\\Desktop\\Customers\\Dr_Fazel\\Project2\\Fazel_Pharma\\admin_panel\\templates\\sqladmin'
2025-11-09 20:08:51,837 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:08:51,946 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:08:51,947 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:08:51,948 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:08:51,949 - uvicorn.error - INFO - server:94 - Finished server process [19292]
2025-11-09 20:08:56,842 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:08:56,846 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:11:09,285 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:11:09,392 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:11:09,395 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:11:09,398 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:11:09,398 - uvicorn.error - INFO - server:94 - Finished server process [7840]
2025-11-09 20:11:13,803 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:11:13,807 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:11:17,037 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50863 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:11:17,038 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 70, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\dashboard.html", line 1, in top-level template code
    {% extends "layout.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\layout.html", line 1, in top-level template code
    {% extends "sqladmin/base.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 209, in get_source
    raise TemplateNotFound(
jinja2.exceptions.TemplateNotFound: 'sqladmin/base.html' not found in search path: 'C:\\Users\\MS511\\Desktop\\Customers\\Dr_Fazel\\Project2\\Fazel_Pharma\\admin_panel\\templates\\sqladmin'
2025-11-09 20:11:52,508 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:11:52,618 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:11:52,619 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:11:52,620 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:11:52,621 - uvicorn.error - INFO - server:94 - Finished server process [4652]
2025-11-09 20:11:59,417 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:11:59,421 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:12:23,888 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50880 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:12:23,890 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 70, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\dashboard.html", line 1, in top-level template code
    {% extends "layout.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 209, in get_source
    raise TemplateNotFound(
jinja2.exceptions.TemplateNotFound: 'sqladmin/_macros.html' not found in search path: 'C:\\Users\\MS511\\Desktop\\Customers\\Dr_Fazel\\Project2\\Fazel_Pharma\\admin_panel\\templates\\sqladmin'
2025-11-09 20:12:47,964 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:12:48,075 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:12:48,076 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:12:48,077 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:12:48,078 - uvicorn.error - INFO - server:94 - Finished server process [14348]
2025-11-09 20:12:54,482 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:12:54,486 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:12:59,823 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50893 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 20:13:01,286 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50893 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:13:01,287 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 70, in dashboard_page
    return await templates.TemplateResponse("dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 209, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 132, in get_template
    return self.env.get_template(name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\loaders.py", line 209, in get_source
    raise TemplateNotFound(
jinja2.exceptions.TemplateNotFound: 'dashboard.html' not found in search path: 'C:\\Users\\MS511\\Desktop\\Customers\\Dr_Fazel\\Project2\\Fazel_Pharma\\admin_panel\\templates'
2025-11-09 20:14:00,281 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:14:00,389 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:14:00,390 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:14:00,391 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:14:00,392 - uvicorn.error - INFO - server:94 - Finished server process [7788]
2025-11-09 20:14:04,734 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:14:04,738 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:14:09,281 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50910 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:14:09,283 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 70, in dashboard_page
    return await templates.TemplateResponse("sqladmin/dashboard.html", context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 210, in TemplateResponse
    return _TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\templating.py", line 41, in __init__
    content = template.render(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\dashboard.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\base.html", line 22, in top-level template code
    {% block body %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\layout.html", line 22, in block 'body'
    {{ display_menu(admin._menu, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 784, in _invoke
    rv = self._func(*arguments)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\templates\sqladmin\_macros.html", line 47, in template
    {% for item in menu.items %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'None' has no attribute '_menu'
2025-11-09 20:24:03,486 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 20:24:03,595 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 20:24:03,597 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 20:24:03,603 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 20:24:03,607 - uvicorn.error - INFO - server:94 - Finished server process [13808]
2025-11-09 20:25:45,883 - app - INFO - config:48 - Application startup......................................
2025-11-09 20:25:45,887 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 20:25:52,029 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51042 - "GET /admin/dashboard HTTP/1.1" 500
2025-11-09 20:25:52,030 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 69, in dashboard_page
    return await templates.TemplateResponse("sqladmin/dashboard.html", context)
TypeError: object _TemplateResponse can't be used in 'await' expression
2025-11-09 23:31:59,517 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:31:59,626 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:31:59,627 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:31:59,628 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:31:59,629 - uvicorn.error - INFO - server:94 - Finished server process [8300]
2025-11-09 23:33:57,621 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:33:57,626 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:34:02,026 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63076 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-09 23:34:02,074 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63076 - "GET /admin/statics/css/tabler.min.css HTTP/1.1" 304
2025-11-09 23:34:02,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63077 - "GET /admin/statics/css/tabler-icons.min.css HTTP/1.1" 304
2025-11-09 23:34:02,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63079 - "GET /admin/statics/css/fontawesome.min.css HTTP/1.1" 304
2025-11-09 23:34:02,079 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63080 - "GET /admin/statics/css/select2.min.css HTTP/1.1" 304
2025-11-09 23:34:02,081 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63081 - "GET /admin/statics/css/flatpickr.min.css HTTP/1.1" 304
2025-11-09 23:34:02,082 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63082 - "GET /admin/statics/css/main.css HTTP/1.1" 304
2025-11-09 23:34:02,087 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63081 - "GET /admin/statics/js/select2.full.min.js HTTP/1.1" 304
2025-11-09 23:34:02,089 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63080 - "GET /admin/statics/js/bootstrap.min.js HTTP/1.1" 304
2025-11-09 23:34:02,091 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63076 - "GET /admin/statics/js/jquery.min.js HTTP/1.1" 304
2025-11-09 23:34:02,094 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63077 - "GET /admin/statics/js/tabler.min.js HTTP/1.1" 304
2025-11-09 23:34:02,096 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63082 - "GET /admin/statics/js/flatpickr.min.js HTTP/1.1" 304
2025-11-09 23:34:02,097 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63079 - "GET /admin/statics/js/popper.min.js HTTP/1.1" 304
2025-11-09 23:34:02,101 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63081 - "GET /admin/statics/js/main.js HTTP/1.1" 304
2025-11-09 23:34:03,201 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63081 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-09 23:34:33,205 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:34:33,313 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:34:33,316 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:34:33,317 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:34:33,319 - uvicorn.error - INFO - server:94 - Finished server process [5360]
2025-11-09 23:34:44,111 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:34:44,117 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:34:46,540 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63102 - "GET /admin/logout HTTP/1.1" 302
2025-11-09 23:34:46,544 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63102 - "GET /admin/ HTTP/1.1" 302
2025-11-09 23:34:46,558 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63102 - "GET /admin/login HTTP/1.1" 200
2025-11-09 23:34:58,548 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63103 - "POST /admin/login HTTP/1.1" 302
2025-11-09 23:34:58,576 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63103 - "GET /admin/ HTTP/1.1" 200
2025-11-09 23:35:00,746 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63103 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-09 23:35:03,206 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63103 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:35:21,557 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:35:21,666 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:35:21,669 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:35:21,672 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:35:21,673 - uvicorn.error - INFO - server:94 - Finished server process [18624]
2025-11-09 23:37:11,345 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:37:11,349 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:37:26,438 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63133 - "GET /admin/ HTTP/1.1" 200
2025-11-09 23:37:31,608 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63134 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-09 23:37:33,542 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63134 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:38:30,318 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:38:30,427 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:38:30,428 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:38:30,429 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:38:30,430 - uvicorn.error - INFO - server:94 - Finished server process [14828]
2025-11-09 23:48:46,104 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:48:46,109 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:48:50,137 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63253 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:48:50,210 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63253 - "GET /admin/statics/webfonts/fa-solid-900.woff2 HTTP/1.1" 304
2025-11-09 23:54:04,254 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:54:04,362 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:54:04,365 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:54:04,368 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:54:04,369 - uvicorn.error - INFO - server:94 - Finished server process [3740]
2025-11-09 23:54:08,158 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:54:08,162 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:54:15,672 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63305 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:54:17,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63305 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:54:17,795 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63305 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:54:18,215 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63305 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:54:18,559 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63305 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:55:26,343 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-09 23:55:26,450 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-09 23:55:26,451 - app - INFO - config:52 - Application shutdown.....................................
2025-11-09 23:55:26,452 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-09 23:55:26,453 - uvicorn.error - INFO - server:94 - Finished server process [5172]
2025-11-09 23:58:40,235 - app - INFO - config:48 - Application startup......................................
2025-11-09 23:58:40,239 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-09 23:58:44,412 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63344 - "GET /admin/user/list HTTP/1.1" 200
2025-11-09 23:58:57,603 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63345 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-09 23:58:58,677 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63345 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 17:58:04,695 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 17:58:04,802 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 17:58:04,804 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 17:58:04,805 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 17:58:04,806 - uvicorn.error - INFO - server:94 - Finished server process [14224]
2025-11-10 17:58:11,030 - app - INFO - config:48 - Application startup......................................
2025-11-10 17:58:11,035 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 17:58:12,934 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 17:58:12,984 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/statics/css/tabler.min.css HTTP/1.1" 304
2025-11-10 17:58:12,989 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56112 - "GET /admin/statics/css/tabler-icons.min.css HTTP/1.1" 304
2025-11-10 17:58:12,995 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56116 - "GET /admin/statics/css/fontawesome.min.css HTTP/1.1" 304
2025-11-10 17:58:12,997 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56119 - "GET /admin/statics/css/main.css HTTP/1.1" 304
2025-11-10 17:58:12,999 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56117 - "GET /admin/statics/css/select2.min.css HTTP/1.1" 304
2025-11-10 17:58:13,001 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56118 - "GET /admin/statics/css/flatpickr.min.css HTTP/1.1" 304
2025-11-10 17:58:13,004 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/statics/js/jquery.min.js HTTP/1.1" 304
2025-11-10 17:58:13,006 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56112 - "GET /admin/statics/js/tabler.min.js HTTP/1.1" 304
2025-11-10 17:58:13,016 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56116 - "GET /admin/statics/js/popper.min.js HTTP/1.1" 304
2025-11-10 17:58:13,019 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56117 - "GET /admin/statics/js/select2.full.min.js HTTP/1.1" 304
2025-11-10 17:58:13,022 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56118 - "GET /admin/statics/js/flatpickr.min.js HTTP/1.1" 304
2025-11-10 17:58:13,026 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56119 - "GET /admin/statics/js/bootstrap.min.js HTTP/1.1" 304
2025-11-10 17:58:13,031 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/statics/js/main.js HTTP/1.1" 304
2025-11-10 17:58:13,038 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/statics/webfonts/fa-solid-900.woff2 HTTP/1.1" 304
2025-11-10 17:58:15,295 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 17:58:16,481 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56111 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:02:02,848 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:02:07,313 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:02:07,318 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:02:37,698 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57148 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:02:38,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57148 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:02:58,691 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57149 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:02:59,323 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57149 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:02:59,502 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57149 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:03:05,223 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57227 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:03:08,630 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57227 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-10 18:03:10,086 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57227 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:03:10,950 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57227 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:03:11,580 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57227 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:13:02,925 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:13:03,035 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:13:03,036 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:13:03,037 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:13:03,038 - uvicorn.error - INFO - server:94 - Finished server process [9624]
2025-11-10 18:14:59,202 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:14:59,206 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:15:02,821 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60148 - "GET /admin/patient/list HTTP/1.1" 500
2025-11-10 18:15:02,822 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 1, in top-level template code
    {% extends "sqladmin/base.html" %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "admin_panel\templates\sqladmin\base.html", line 74, in template
    {% block head %}{% endblock %}
jinja2.exceptions.TemplateAssertionError: block 'head' defined twice
2025-11-10 18:15:50,074 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:15:50,182 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:15:50,185 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:15:50,186 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:15:50,186 - uvicorn.error - INFO - server:94 - Finished server process [11528]
2025-11-10 18:15:54,137 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:15:54,141 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:15:55,813 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60362 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:19:01,038 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:19:01,150 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:19:01,151 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:19:01,152 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:19:01,153 - uvicorn.error - INFO - server:94 - Finished server process [21116]
2025-11-10 18:19:06,381 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:19:06,385 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:19:32,784 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61237 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:20:12,691 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:20:12,800 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:20:12,803 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:20:12,806 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:20:12,807 - uvicorn.error - INFO - server:94 - Finished server process [1652]
2025-11-10 18:23:18,027 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:23:18,031 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:23:21,032 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62157 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:24:42,664 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:24:42,773 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:24:42,775 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:24:42,777 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:24:42,778 - uvicorn.error - INFO - server:94 - Finished server process [15180]
2025-11-10 18:33:06,836 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:33:06,841 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:33:09,040 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64578 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:38:17,527 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:38:18,412 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:38:20,879 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:38:21,966 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:38:22,885 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:38:23,629 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:38:25,691 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:38:26,449 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:38:27,527 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:38:31,559 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:38:31,671 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49369 - "GET /admin/statics/css/tabler-icons.min.css.map HTTP/1.1" 200
2025-11-10 18:44:25,092 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:44:25,205 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:44:25,206 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:44:25,207 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:44:25,208 - uvicorn.error - INFO - server:94 - Finished server process [19228]
2025-11-10 18:44:30,128 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:44:30,132 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:44:33,520 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51325 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:44:33,541 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51325 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:06,829 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 18:57:06,937 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 18:57:06,940 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 18:57:06,942 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 18:57:06,943 - uvicorn.error - INFO - server:94 - Finished server process [3532]
2025-11-10 18:57:10,914 - app - INFO - config:48 - Application startup......................................
2025-11-10 18:57:10,919 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 18:57:13,069 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:13,103 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:15,500 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:15,518 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:16,908 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:16,925 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:18,059 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:18,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:18,822 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:18,836 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54772 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:27,479 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:27,493 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:29,631 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:57:29,650 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:33,377 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:33,396 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:34,193 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-10 18:57:34,214 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:35,312 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:57:35,332 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:35,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:57:35,996 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:37,072 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-10 18:57:37,092 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:38,475 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:38,495 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:39,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 18:57:39,571 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:44,102 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 18:57:44,122 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:57:45,270 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:57:45,292 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54773 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:29,640 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:29,654 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:31,001 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:31,015 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:31,512 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:31,528 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:31,978 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:31,992 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:32,590 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:32,605 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:33,095 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:33,109 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:33,582 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:33,597 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:34,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:34,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:34,617 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:34,631 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:35,120 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:35,135 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:35,341 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:35,359 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:35,568 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:35,600 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:35,762 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:35,783 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 18:58:36,027 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 18:58:36,041 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55150 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:10,068 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:03:10,177 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:03:10,178 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:03:10,181 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:03:10,183 - uvicorn.error - INFO - server:94 - Finished server process [17356]
2025-11-10 19:03:14,088 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:03:14,093 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:03:15,472 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:15,489 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:20,348 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:20,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:21,368 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:21,382 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:22,508 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:22,525 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:23,453 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:23,468 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56414 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:03:49,395 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:03:49,505 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:03:49,506 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:03:49,507 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:03:49,508 - uvicorn.error - INFO - server:94 - Finished server process [20896]
2025-11-10 19:03:53,720 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:03:53,724 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:03:56,579 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56614 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:03:56,593 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56614 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:07:31,338 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:07:31,449 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:07:31,450 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:07:31,452 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:07:31,452 - uvicorn.error - INFO - server:94 - Finished server process [19612]
2025-11-10 19:07:35,215 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:07:35,220 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:07:38,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57591 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:07:38,094 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57591 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:07:39,601 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57591 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:07:39,618 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57591 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:09:05,252 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:09:05,360 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:09:05,361 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:09:05,362 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:09:05,363 - uvicorn.error - INFO - server:94 - Finished server process [3304]
2025-11-10 19:10:02,454 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:10:02,458 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:10:03,856 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58270 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-10 19:10:03,876 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58270 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:12,059 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:10:12,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:13,755 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:10:13,771 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:14,934 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 19:10:14,953 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:17,526 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:10:17,546 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:17,948 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:10:17,969 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:18,484 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:10:18,503 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:19,934 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-10 19:10:19,957 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:21,145 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:10:21,169 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:21,570 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:10:21,594 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58271 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-11-10 19:10:34,720 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:10:34,829 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:10:34,830 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:10:34,831 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:10:34,832 - uvicorn.error - INFO - server:94 - Finished server process [6448]
2025-11-10 19:36:01,541 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:36:01,546 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:36:03,193 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64509 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:37,088 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:36:37,198 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:36:37,201 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:36:37,204 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:36:37,205 - uvicorn.error - INFO - server:94 - Finished server process [20276]
2025-11-10 19:36:41,193 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:36:41,198 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:36:43,550 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:44,756 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:45,569 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:46,009 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:46,206 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:46,360 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:46,549 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:36:47,144 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64672 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 19:37:32,142 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64673 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:39:10,377 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65289 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:44:11,728 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50408 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-10 19:44:41,784 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50410 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:49:31,676 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:49:31,786 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:49:31,787 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:49:31,788 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:49:31,789 - uvicorn.error - INFO - server:94 - Finished server process [20440]
2025-11-10 19:49:35,868 - app - INFO - config:48 - Application startup......................................
2025-11-10 19:49:35,873 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 19:49:42,646 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51749 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 19:54:40,595 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 19:54:40,707 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 19:54:40,708 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 19:54:40,710 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 19:54:40,711 - uvicorn.error - INFO - server:94 - Finished server process [15256]
2025-11-10 20:29:26,280 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:29:26,285 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:29:29,247 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61697 - "GET /admin/drug/list HTTP/1.1" 500
2025-11-10 20:29:29,249 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 13, in top-level template code
    <link rel="stylesheet" href="{{ url_for('admin:static', path='css/custom_admin.css') }}">
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 49, in url_for
    return request.url_for(__name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\requests.py", line 187, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 663, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "admin:static" and params "path".
2025-11-10 20:30:18,540 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:30:18,648 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:30:18,649 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:30:18,650 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:30:18,651 - uvicorn.error - INFO - server:94 - Finished server process [744]
2025-11-10 20:30:22,154 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:30:22,158 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:30:25,245 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61946 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:30:25,277 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61946 - "GET /admin/statics/css/custom_admin.css HTTP/1.1" 404
2025-11-10 20:31:30,962 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:31:31,071 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:31:31,072 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:31:31,073 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:31:31,074 - uvicorn.error - INFO - server:94 - Finished server process [14864]
2025-11-10 20:31:34,791 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:31:34,795 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:31:36,486 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:31:36,508 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/statics/css/custom_admin.css HTTP/1.1" 404
2025-11-10 20:31:38,098 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:31:38,113 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/statics/css/custom_admin.css HTTP/1.1" 404
2025-11-10 20:31:38,607 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:31:38,624 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/statics/css/custom_admin.css HTTP/1.1" 404
2025-11-10 20:31:38,795 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:31:38,814 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62228 - "GET /admin/statics/css/custom_admin.css HTTP/1.1" 404
2025-11-10 20:32:48,200 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:32:48,307 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:32:48,308 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:32:48,309 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:32:48,310 - uvicorn.error - INFO - server:94 - Finished server process [1832]
2025-11-10 20:32:51,969 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:32:51,974 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:32:53,041 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62534 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:32:54,106 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62534 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:32:54,522 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62534 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:32:54,716 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62534 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:37:10,378 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:37:10,489 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:37:10,490 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:37:10,491 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:37:10,492 - uvicorn.error - INFO - server:94 - Finished server process [12920]
2025-11-10 20:42:17,042 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:42:17,046 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:42:27,158 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:28,576 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:29,000 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:29,229 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:29,414 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:29,591 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:29,752 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65070 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 20:42:35,731 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65071 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:44:19,925 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:44:20,035 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:44:20,037 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:44:20,039 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:44:20,040 - uvicorn.error - INFO - server:94 - Finished server process [13328]
2025-11-10 20:44:23,548 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:44:23,552 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:44:24,375 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49187 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:45:43,071 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:45:43,181 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:45:43,182 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:45:43,183 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:45:43,184 - uvicorn.error - INFO - server:94 - Finished server process [18120]
2025-11-10 20:45:46,634 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:45:46,638 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:45:50,489 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49835 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:47:21,834 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50226 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:47:22,623 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50226 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:48:11,716 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:48:11,825 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:48:11,826 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:48:11,827 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:48:11,828 - uvicorn.error - INFO - server:94 - Finished server process [10780]
2025-11-10 20:48:15,829 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:48:15,834 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:48:17,136 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50471 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 20:48:46,082 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 20:48:46,192 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 20:48:46,193 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 20:48:46,194 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 20:48:46,195 - uvicorn.error - INFO - server:94 - Finished server process [16644]
2025-11-10 20:50:21,120 - app - INFO - config:48 - Application startup......................................
2025-11-10 20:50:21,126 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 20:50:24,706 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51021 - "GET /admin/user/list HTTP/1.1" 500
2025-11-10 20:50:24,707 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 13, in top-level template code
    <link rel="stylesheet" href="{{ url_for('static', path='css/custom_admin.css') }}">
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 49, in url_for
    return request.url_for(__name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\requests.py", line 187, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 663, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "static" and params "path".
2025-11-10 21:10:34,534 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:10:34,641 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:10:34,644 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:10:34,645 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:10:34,646 - uvicorn.error - INFO - server:94 - Finished server process [7904]
2025-11-10 21:11:06,867 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:11:06,872 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:11:10,800 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56067 - "GET /admin/user/list HTTP/1.1" 500
2025-11-10 21:11:10,802 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 13, in top-level template code
    <link rel="stylesheet" href="{{ url_for('admin_static:static', path='css/custom_admin.css') }}">
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 49, in url_for
    return request.url_for(__name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\requests.py", line 187, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 663, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "admin_static:static" and params "path".
2025-11-10 21:12:48,152 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:12:48,261 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:12:48,262 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:12:48,263 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:12:48,264 - uvicorn.error - INFO - server:94 - Finished server process [19312]
2025-11-10 21:12:51,609 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:12:51,614 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:12:53,634 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56518 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:12:53,652 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56518 - "GET /admin/static/css/custom_admin.css HTTP/1.1" 404
2025-11-10 21:20:05,256 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:20:05,365 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:20:05,366 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:20:05,367 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:20:05,368 - uvicorn.error - INFO - server:94 - Finished server process [16524]
2025-11-10 21:20:08,655 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:20:08,659 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:20:14,287 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58313 - "GET /admin/user/list HTTP/1.1" 500
2025-11-10 21:20:14,288 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 13, in top-level template code
    <link rel="stylesheet" href="{{ url_for('admin_static:static', path='css/custom_admin.css') }}">
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 49, in url_for
    return request.url_for(__name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\requests.py", line 187, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 663, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "admin_static:static" and params "path".
2025-11-10 21:21:23,638 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:21:23,745 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:21:23,746 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:21:23,748 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:21:23,748 - uvicorn.error - INFO - server:94 - Finished server process [14036]
2025-11-10 21:21:32,385 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:21:32,389 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:21:37,246 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58662 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:21:37,267 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58662 - "GET /admin/static/css/custom_admin.css HTTP/1.1" 404
2025-11-10 21:22:09,020 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:22:09,130 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:22:09,131 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:22:09,132 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:22:09,133 - uvicorn.error - INFO - server:94 - Finished server process [16484]
2025-11-10 21:22:12,616 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:22:12,621 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:22:13,818 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58821 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:22:13,862 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58821 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 200
2025-11-10 21:22:13,885 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58821 - "GET /admin_panel/static/webfonts/Vazir-Bold.woff2 HTTP/1.1" 200
2025-11-10 21:22:13,889 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58822 - "GET /admin_panel/static/webfonts/Vazir-Medium.woff2 HTTP/1.1" 200
2025-11-10 21:23:07,151 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:23:07,259 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:23:07,260 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:23:07,261 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:23:07,262 - uvicorn.error - INFO - server:94 - Finished server process [10304]
2025-11-10 21:23:10,940 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:23:10,945 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:23:14,312 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59084 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:23:14,356 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59085 - "GET /admin_panel/static/css/tabler-icons.min.css HTTP/1.1" 200
2025-11-10 21:23:14,358 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59089 - "GET /admin_panel/static/css/flatpickr.min.css HTTP/1.1" 200
2025-11-10 21:23:14,360 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59084 - "GET /admin_panel/static/css/tabler.min.css HTTP/1.1" 200
2025-11-10 21:23:14,362 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59088 - "GET /admin_panel/static/css/select2.min.css HTTP/1.1" 200
2025-11-10 21:23:14,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59090 - "GET /admin_panel/static/css/main.css HTTP/1.1" 200
2025-11-10 21:23:14,365 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59087 - "GET /admin_panel/static/css/fontawesome.min.css HTTP/1.1" 200
2025-11-10 21:23:14,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59084 - "GET /admin_panel/static/webfonts/fa-solid-900.woff2 HTTP/1.1" 200
2025-11-10 21:24:06,126 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:24:06,237 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:24:06,238 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:24:06,239 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:24:06,240 - uvicorn.error - INFO - server:94 - Finished server process [5992]
2025-11-10 21:30:20,612 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:30:20,617 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:30:24,139 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60928 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:30:24,189 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60928 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-10 21:30:25,538 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60928 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:30:34,285 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60929 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-10 21:31:43,194 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61271 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-10 21:31:45,436 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61271 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:37:28,964 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:37:29,072 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:37:29,073 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:37:29,075 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:37:29,077 - uvicorn.error - INFO - server:94 - Finished server process [14556]
2025-11-10 21:39:13,971 - app - INFO - config:48 - Application startup......................................
2025-11-10 21:39:13,975 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-10 21:39:20,504 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63177 - "GET /admin/user/list HTTP/1.1" 200
2025-11-10 21:39:20,546 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63177 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-10 21:39:29,084 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63178 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-10 21:40:06,704 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-10 21:40:06,813 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-10 21:40:06,816 - app - INFO - config:52 - Application shutdown.....................................
2025-11-10 21:40:06,818 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-10 21:40:06,819 - uvicorn.error - INFO - server:94 - Finished server process [17332]
2025-11-11 00:01:43,901 - app - INFO - config:48 - Application startup......................................
2025-11-11 00:01:43,905 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 00:01:46,303 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52802 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-11 00:01:46,371 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52803 - "GET /admin/statics/js/jquery.min.js HTTP/1.1" 304
2025-11-11 00:01:46,375 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52802 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-11 00:01:46,380 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52807 - "GET /admin/statics/js/bootstrap.min.js HTTP/1.1" 304
2025-11-11 00:01:46,382 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52808 - "GET /admin/statics/js/select2.full.min.js HTTP/1.1" 304
2025-11-11 00:01:46,386 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52805 - "GET /admin/statics/js/tabler.min.js HTTP/1.1" 304
2025-11-11 00:01:46,388 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52806 - "GET /admin/statics/js/popper.min.js HTTP/1.1" 304
2025-11-11 00:01:46,394 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52803 - "GET /admin/statics/js/flatpickr.min.js HTTP/1.1" 304
2025-11-11 00:01:46,398 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52802 - "GET /admin/statics/js/main.js HTTP/1.1" 304
2025-11-11 00:01:46,451 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52802 - "GET /admin_panel/static/webfonts/Inter-Regular.woff2 HTTP/1.1" 200
2025-11-11 00:01:47,974 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52802 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 00:02:01,346 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52892 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 00:02:02,468 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52892 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-11 00:02:05,367 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52892 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-11 00:03:06,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53177 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 00:03:12,318 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53178 - "GET /admin/user/export/csv HTTP/1.1" 200
2025-11-11 01:25:03,679 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 01:25:03,789 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 01:25:03,790 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 01:25:03,793 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 01:25:03,794 - uvicorn.error - INFO - server:94 - Finished server process [16600]
2025-11-11 01:29:01,532 - app - INFO - config:48 - Application startup......................................
2025-11-11 01:29:01,536 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 01:29:06,113 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54627 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 01:29:06,160 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54627 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-11 01:29:58,717 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 01:29:58,825 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 01:29:58,826 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 01:29:58,827 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 01:29:58,828 - uvicorn.error - INFO - server:94 - Finished server process [16880]
2025-11-11 01:31:15,341 - app - INFO - config:48 - Application startup......................................
2025-11-11 01:31:15,345 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 01:31:17,157 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55306 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 01:31:52,267 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 01:31:52,375 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 01:31:52,376 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 01:31:52,377 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 01:31:52,378 - uvicorn.error - INFO - server:94 - Finished server process [10244]
2025-11-11 01:32:02,777 - app - INFO - config:48 - Application startup......................................
2025-11-11 01:32:02,781 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 01:32:06,327 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55577 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 01:32:12,148 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55578 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 01:32:39,527 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 01:32:39,636 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 01:32:39,637 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 01:32:39,638 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 01:32:39,639 - uvicorn.error - INFO - server:94 - Finished server process [16016]
2025-11-11 01:38:16,720 - app - INFO - config:48 - Application startup......................................
2025-11-11 01:38:16,724 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 01:38:25,140 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57565 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 01:39:10,006 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 01:39:10,118 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 01:39:10,119 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 01:39:10,120 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 01:39:10,121 - uvicorn.error - INFO - server:94 - Finished server process [20664]
2025-11-11 02:01:02,592 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:01:02,597 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:01:07,356 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64627 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 02:01:07,358 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 565, in edit
    await self._edit(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 314, in _edit
    if not model_view.can_edit or not model_view.is_accessible(request):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 53, in is_accessible
    permission = get_permission_for_table(request, self.model.__tablename__)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_permissions.py", line 15, in get_permission_for_table
    if not user or not user.role or not user.role.permissions:
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 1131, in _fire_loader_callables
    return self.callable_(state, passive)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <User at 0x2f565aa22a0> is not bound to a Session; lazy load operation of attribute 'role' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-11-11 02:01:32,628 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64628 - "GET /admin/logout HTTP/1.1" 302
2025-11-11 02:01:32,632 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64628 - "GET /admin/ HTTP/1.1" 302
2025-11-11 02:01:32,658 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64628 - "GET /admin/login HTTP/1.1" 200
2025-11-11 02:01:32,705 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64628 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-11 02:01:42,329 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64733 - "POST /admin/login HTTP/1.1" 302
2025-11-11 02:01:42,368 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64733 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:01:42,369 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 444, in index
    return await self.templates.TemplateResponse(request, "sqladmin/index.html")
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\index.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 22, in block 'body'
    {{ display_menu(admin._menu, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 49, in template
    {{ menu_item(item, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 33, in template
    {% if menu.is_visible(request) and menu.is_accessible(request) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\_menu.py", line 69, in is_accessible
    return self.view.is_accessible(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 53, in is_accessible
    permission = get_permission_for_table(request, self.model.__tablename__)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_permissions.py", line 15, in get_permission_for_table
    if not user or not user.role or not user.role.permissions:
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\attributes.py", line 1131, in _fire_loader_callables
    return self.callable_(state, passive)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <User at 0x2f565a4fa60> is not bound to a Session; lazy load operation of attribute 'role' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-11-11 02:10:30,203 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:10:30,312 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:10:30,313 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:10:30,314 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:10:30,315 - uvicorn.error - INFO - server:94 - Finished server process [20404]
2025-11-11 02:10:31,691 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:10:31,695 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:10:31,754 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-11-11 02:10:33,251 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:10:33,255 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:10:37,575 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:10:37,581 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:10:39,087 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51518 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:10:39,089 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 65, in wrapper_decorator
    response = await auth_backend.authenticate(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_auth.py", line 62, in authenticate
    result = await session.exec(statement)
AttributeError: 'SelectOfScalar' object has no attribute 'exec'
2025-11-11 02:12:55,318 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:12:55,426 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:12:55,427 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:12:55,428 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:12:55,429 - uvicorn.error - INFO - server:94 - Finished server process [20748]
2025-11-11 02:12:59,977 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:12:59,982 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:13:01,272 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52270 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:13:01,273 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 65, in wrapper_decorator
    response = await auth_backend.authenticate(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_auth.py", line 63, in authenticate
    result = await session.exec(statement)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1215, in _create_orm_context
    opt.process_compile_state(self)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 915, in process_compile_state
    self._process(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1143, in _process
    loader.process_compile_state(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1717, in process_compile_state
    keys = self._prepare_for_compile_state(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2077, in _prepare_for_compile_state
    self._raise_for_no_match(parent_loader, mapper_entities)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1627, in _raise_for_no_match
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Mapped class Mapper[UserRole(tbl_UserRole)] does not apply to any of the root entities in this query, e.g. Mapper[User(tbl_User)]. Please specify the full path from one of the root entities to the target attribute. 
2025-11-11 02:16:19,534 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:16:19,646 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:16:19,647 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:16:19,648 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:16:19,649 - uvicorn.error - INFO - server:94 - Finished server process [13960]
2025-11-11 02:16:47,008 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:16:47,014 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:16:50,436 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53473 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:16:50,437 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 65, in wrapper_decorator
    response = await auth_backend.authenticate(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_auth.py", line 62, in authenticate
    result = await session.exec(statement)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1215, in _create_orm_context
    opt.process_compile_state(self)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 915, in process_compile_state
    self._process(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1143, in _process
    loader.process_compile_state(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1717, in process_compile_state
    keys = self._prepare_for_compile_state(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2077, in _prepare_for_compile_state
    self._raise_for_no_match(parent_loader, mapper_entities)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1627, in _raise_for_no_match
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Mapped class Mapper[UserRole(tbl_UserRole)] does not apply to any of the root entities in this query, e.g. Mapper[User(tbl_User)]. Please specify the full path from one of the root entities to the target attribute. 
2025-11-11 02:17:44,143 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:17:44,253 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:17:44,254 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:17:44,255 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:17:44,256 - uvicorn.error - INFO - server:94 - Finished server process [19316]
2025-11-11 02:17:48,715 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:17:48,719 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:17:53,382 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53827 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:17:53,384 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 444, in index
    return await self.templates.TemplateResponse(request, "sqladmin/index.html")
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\index.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 22, in block 'body'
    {{ display_menu(admin._menu, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 49, in template
    {{ menu_item(item, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 33, in template
    {% if menu.is_visible(request) and menu.is_accessible(request) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\_menu.py", line 69, in is_accessible
    return self.view.is_accessible(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 53, in is_accessible
    permission = get_permission_for_table(request, self.model.__tablename__)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_permissions.py", line 15, in get_permission_for_table
    if not user or not user.role or not user.role.permissions:
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'UserRole' object has no attribute 'permissions'
2025-11-11 02:20:30,342 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:20:30,449 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:20:30,452 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:20:30,457 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:20:30,459 - uvicorn.error - INFO - server:94 - Finished server process [19764]
2025-11-11 02:25:37,535 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:25:37,540 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:25:40,113 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56381 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:25:40,159 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56381 - "GET /admin_panel/static/css/tabler.min.css HTTP/1.1" 304
2025-11-11 02:25:40,161 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56385 - "GET /admin_panel/static/css/fontawesome.min.css HTTP/1.1" 304
2025-11-11 02:25:40,163 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56388 - "GET /admin_panel/static/css/main.css HTTP/1.1" 304
2025-11-11 02:25:40,168 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56387 - "GET /admin_panel/static/css/flatpickr.min.css HTTP/1.1" 304
2025-11-11 02:25:40,170 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56386 - "GET /admin_panel/static/css/select2.min.css HTTP/1.1" 304
2025-11-11 02:25:40,171 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56382 - "GET /admin_panel/static/css/tabler-icons.min.css HTTP/1.1" 304
2025-11-11 02:25:40,196 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56382 - "GET /admin_panel/static/webfonts/fa-solid-900.woff2 HTTP/1.1" 304
2025-11-11 02:27:14,054 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:27:14,162 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:27:14,163 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:27:14,164 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:27:14,165 - uvicorn.error - INFO - server:94 - Finished server process [13848]
2025-11-11 02:30:24,482 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:30:24,487 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:30:30,477 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:30:31,727 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:30:36,678 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-11 02:30:39,004 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/logout HTTP/1.1" 302
2025-11-11 02:30:39,008 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/ HTTP/1.1" 302
2025-11-11 02:30:39,016 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /admin/login HTTP/1.1" 200
2025-11-11 02:30:48,599 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57933 - "POST /admin/login HTTP/1.1" 302
2025-11-11 02:30:48,612 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57933 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:33:20,861 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:33:20,970 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:33:20,971 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:33:20,972 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:33:20,973 - uvicorn.error - INFO - server:94 - Finished server process [19312]
2025-11-11 02:37:54,823 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:37:54,828 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:38:00,221 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60346 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:38:00,223 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 444, in index
    return await self.templates.TemplateResponse(request, "sqladmin/index.html")
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\index.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 22, in block 'body'
    {{ display_menu(admin._menu, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 49, in template
    {{ menu_item(item, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 33, in template
    {% if menu.is_visible(request) and menu.is_accessible(request) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\_menu.py", line 69, in is_accessible
    return self.view.is_accessible(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 53, in is_accessible
    permission = get_permission_for_table(request, self.model.__tablename__)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\admin_permissions.py", line 13, in get_permission_for_table
    if perm.table_name == table_name:  # <---  
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'UserRolePermission' object has no attribute 'table_name'
2025-11-11 02:38:23,330 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:38:23,440 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:38:23,441 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:38:23,442 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:38:23,443 - uvicorn.error - INFO - server:94 - Finished server process [1448]
2025-11-11 02:38:27,437 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:38:27,441 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:38:28,991 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60499 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:38:29,034 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60499 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-11 02:39:06,136 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:39:06,244 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:39:06,246 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:39:06,247 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:39:06,247 - uvicorn.error - INFO - server:94 - Finished server process [19872]
2025-11-11 02:39:10,027 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:39:10,031 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:39:15,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60738 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:40:28,219 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:40:28,328 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:40:28,329 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:40:28,330 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:40:28,331 - uvicorn.error - INFO - server:94 - Finished server process [13832]
2025-11-11 02:40:31,489 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:40:31,493 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:40:34,553 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61171 - "GET /admin/ HTTP/1.1" 500
2025-11-11 02:40:34,554 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 444, in index
    return await self.templates.TemplateResponse(request, "sqladmin/index.html")
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\index.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 22, in block 'body'
    {{ display_menu(admin._menu, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 49, in template
    {{ menu_item(item, request) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 33, in template
    {% if menu.is_visible(request) and menu.is_accessible(request) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\_menu.py", line 69, in is_accessible
    return self.view.is_accessible(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 55, in is_accessible
    return permission is not None and permission.can_view
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'UserRolePermission' object has no attribute 'can_view'
2025-11-11 02:44:18,534 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:44:18,641 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:44:18,642 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:44:18,643 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:44:18,644 - uvicorn.error - INFO - server:94 - Finished server process [15004]
2025-11-11 02:44:19,936 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:44:19,941 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:44:38,879 - app - INFO - config:48 - Application startup......................................
2025-11-11 02:44:38,883 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 02:44:45,487 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/ HTTP/1.1" 200
2025-11-11 02:44:47,737 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 02:44:49,046 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-11 02:44:50,030 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 02:44:51,534 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 02:44:56,566 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-11 02:44:59,473 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 02:45:00,024 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62571 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 02:45:08,879 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 02:45:08,986 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 02:45:08,987 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 02:45:08,988 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 02:45:08,989 - uvicorn.error - INFO - server:94 - Finished server process [17752]
