2025-11-11 12:27:52,103 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:27:52,107 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:28:00,971 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65015 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 12:28:00,972 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 574, in edit
    Form = await model_view.scaffold_form(model_view._form_edit_rules)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 1067, in scaffold_form
    form = await get_model_form(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\forms.py", line 620, in get_model_form
    attr = mapper.attrs[name]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_collections.py", line 199, in __getitem__
    return self._data[key]
KeyError: 'password'
2025-11-11 12:30:44,310 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:30:44,418 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:30:44,419 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:30:44,420 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:30:44,421 - uvicorn.error - INFO - server:94 - Finished server process [2248]
2025-11-11 12:30:48,374 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:30:48,379 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:30:51,568 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49801 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:56,902 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:58,196 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:58,645 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:58,842 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,193 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,361 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,524 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,696 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:30:59,854 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:03,328 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:04,170 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:04,661 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:05,102 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:05,347 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:05,542 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:05,752 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:06,341 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:06,543 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:06,723 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:31:06,896 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49802 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:32:27,499 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:32:27,608 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:32:27,609 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:32:27,610 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:32:27,611 - uvicorn.error - INFO - server:94 - Finished server process [9856]
2025-11-11 12:36:21,139 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:36:21,143 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:36:27,601 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51598 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:36:28,725 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51598 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:36:31,228 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51598 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 12:36:33,786 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51598 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:42:30,239 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:42:30,348 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:42:30,350 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:42:30,352 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:42:30,353 - uvicorn.error - INFO - server:94 - Finished server process [21108]
2025-11-11 12:42:34,033 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:42:34,038 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:42:39,408 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53603 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 12:45:23,467 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:45:23,576 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:45:23,577 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:45:23,578 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:45:23,579 - uvicorn.error - INFO - server:94 - Finished server process [12388]
2025-11-11 12:48:44,830 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:48:44,834 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:48:55,918 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55633 - "GET /admin/dashboard HTTP/1.1" 200
2025-11-11 12:48:58,944 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55633 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 12:49:07,877 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55634 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 12:49:18,555 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55690 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 12:49:18,557 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from "sqladmin/_macros.html" import render_field, render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 6, in block 'content'
    {{ _("Edit") }} {{ model_view.name }} - {{ get_object_identifier(model) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
jinja2.exceptions.UndefinedError: '_' is undefined
2025-11-11 12:49:39,790 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:49:39,900 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:49:39,901 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:49:39,902 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:49:39,903 - uvicorn.error - INFO - server:94 - Finished server process [18684]
2025-11-11 12:49:43,113 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:49:43,118 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:49:47,639 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55901 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 12:49:49,313 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55901 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 12:49:58,328 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55902 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 12:49:58,330 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from "sqladmin/_macros.html" import render_field, render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 6, in block 'content'
    {{ _("Edit") }} {{ model_view.name }} - {{ get_object_identifier(model) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
jinja2.exceptions.UndefinedError: '_' is undefined
2025-11-11 12:56:05,613 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 12:56:05,722 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 12:56:05,725 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 12:56:05,728 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 12:56:05,729 - uvicorn.error - INFO - server:94 - Finished server process [10756]
2025-11-11 12:59:51,286 - app - INFO - config:48 - Application startup......................................
2025-11-11 12:59:51,291 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 12:59:56,787 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59362 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 12:59:58,717 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59362 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 12:59:58,719 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 21, in block 'content'
    {{ rule.render(form) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'render'
2025-11-11 13:01:24,440 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:01:24,549 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:01:24,552 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:01:24,555 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:01:24,556 - uvicorn.error - INFO - server:94 - Finished server process [19596]
2025-11-11 13:01:28,153 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:01:28,158 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:01:29,172 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59857 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 13:01:29,174 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 21, in block 'content'
    {{ rule.render_form_fields(form) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'render_form_fields'
2025-11-11 13:06:26,815 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:06:26,923 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:06:26,926 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:06:26,929 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:06:26,930 - uvicorn.error - INFO - server:94 - Finished server process [17696]
2025-11-11 13:10:47,908 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:10:47,913 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:10:53,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62881 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 13:10:53,079 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 21, in block 'content'
    {{ rule.render(form) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'render'
2025-11-11 13:11:58,127 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:11:58,234 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:11:58,235 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:11:58,236 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:11:58,237 - uvicorn.error - INFO - server:94 - Finished server process [1220]
2025-11-11 13:12:10,463 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:12:10,467 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:12:11,448 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63317 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:12:48,196 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63318 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 13:15:44,422 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:15:44,530 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:15:44,531 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:15:44,532 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:15:44,533 - uvicorn.error - INFO - server:94 - Finished server process [17780]
2025-11-11 13:15:47,864 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:15:47,868 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:22:36,002 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:22:36,112 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:22:36,113 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:22:36,114 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:22:36,115 - uvicorn.error - INFO - server:94 - Finished server process [3244]
2025-11-11 13:22:40,060 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:22:40,065 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:22:43,043 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50581 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 13:22:44,506 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50581 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:26:52,344 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:26:52,452 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:26:52,453 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:26:52,454 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:26:52,455 - uvicorn.error - INFO - server:94 - Finished server process [17860]
2025-11-11 13:26:57,123 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:26:57,128 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:27:03,315 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51996 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 13:27:03,316 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 574, in edit
    Form = await model_view.scaffold_form(model_view._form_edit_rules)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 1067, in scaffold_form
    form = await get_model_form(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\forms.py", line 620, in get_model_form
    attr = mapper.attrs[name]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_collections.py", line 199, in __getitem__
    return self._data[key]
KeyError: 'password'
2025-11-11 13:27:06,283 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51997 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 13:27:06,286 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 574, in edit
    Form = await model_view.scaffold_form(model_view._form_edit_rules)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 1067, in scaffold_form
    form = await get_model_form(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\forms.py", line 620, in get_model_form
    attr = mapper.attrs[name]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_collections.py", line 199, in __getitem__
    return self._data[key]
KeyError: 'password'
2025-11-11 13:29:08,470 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:29:08,578 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:29:08,579 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:29:08,580 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:29:08,581 - uvicorn.error - INFO - server:94 - Finished server process [15736]
2025-11-11 13:31:54,824 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:31:54,829 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:32:00,695 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53617 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:32:14,813 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53618 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 13:32:16,170 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53618 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 13:32:19,545 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53618 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 13:32:27,418 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53680 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:45:34,579 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:45:34,688 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:45:34,689 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:45:34,690 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:45:34,691 - uvicorn.error - INFO - server:94 - Finished server process [10824]
2025-11-11 13:48:10,153 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:48:10,157 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:48:13,435 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58880 - "GET /admin/user/edit/8 HTTP/1.1" 500
2025-11-11 13:48:13,436 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 574, in edit
    Form = await model_view.scaffold_form(model_view._form_edit_rules)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 1067, in scaffold_form
    form = await get_model_form(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\forms.py", line 620, in get_model_form
    attr = mapper.attrs[name]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_collections.py", line 199, in __getitem__
    return self._data[key]
KeyError: 'password'
2025-11-11 13:48:35,697 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:48:35,806 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:48:35,807 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:48:35,809 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:48:35,810 - uvicorn.error - INFO - server:94 - Finished server process [13576]
2025-11-11 13:48:39,065 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:48:39,070 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:48:40,943 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59031 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:48:40,984 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59031 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-11 13:50:23,459 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:50:23,569 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:50:23,570 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:50:23,571 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:50:23,572 - uvicorn.error - INFO - server:94 - Finished server process [3896]
2025-11-11 13:50:26,777 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:50:26,782 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:50:28,345 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59618 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:50:30,031 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59618 - "GET /admin/user/list HTTP/1.1" 200
2025-11-11 13:50:32,592 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59618 - "GET /admin/user/details/8 HTTP/1.1" 200
2025-11-11 13:50:36,253 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59618 - "GET /admin/user-role/details/4 HTTP/1.1" 404
2025-11-11 13:51:00,971 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59619 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:52:11,837 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:52:11,945 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:52:11,948 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:52:11,951 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:52:11,951 - uvicorn.error - INFO - server:94 - Finished server process [2648]
2025-11-11 13:52:15,454 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:52:15,458 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:52:18,449 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60222 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:52:33,266 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 13:52:33,376 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 13:52:33,377 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 13:52:33,378 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 13:52:33,379 - uvicorn.error - INFO - server:94 - Finished server process [2204]
2025-11-11 13:57:57,141 - app - INFO - config:48 - Application startup......................................
2025-11-11 13:57:57,145 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 13:58:00,158 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62208 - "GET /admin/user/edit/8 HTTP/1.1" 200
2025-11-11 13:58:01,311 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62208 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 13:58:13,210 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62209 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-11 14:02:55,903 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 14:02:56,011 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 14:02:56,012 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 14:02:56,016 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 14:02:56,018 - uvicorn.error - INFO - server:94 - Finished server process [11820]
2025-11-11 14:02:57,348 - app - INFO - config:48 - Application startup......................................
2025-11-11 14:02:57,352 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 14:05:03,027 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 14:05:03,136 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 14:05:03,139 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 14:05:03,142 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 14:05:03,143 - uvicorn.error - INFO - server:94 - Finished server process [9792]
2025-11-11 14:05:04,463 - app - INFO - config:48 - Application startup......................................
2025-11-11 14:05:04,467 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 14:05:04,523 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-11-11 14:05:08,319 - app - INFO - config:48 - Application startup......................................
2025-11-11 14:05:08,324 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 14:05:11,307 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64468 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-11 14:05:18,059 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64469 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 14:05:27,272 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64507 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-11 14:05:51,634 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64550 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 14:05:54,175 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64550 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-11 14:08:36,091 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 14:08:36,198 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 14:08:36,199 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 14:08:36,200 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 14:08:36,201 - uvicorn.error - INFO - server:94 - Finished server process [10852]
2025-11-11 14:10:35,049 - app - INFO - config:48 - Application startup......................................
2025-11-11 14:10:35,053 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 14:10:40,487 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50078 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-11 14:10:42,817 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50078 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-11 14:15:37,920 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 14:15:38,029 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 14:15:38,032 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 14:15:38,034 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 14:15:38,035 - uvicorn.error - INFO - server:94 - Finished server process [6124]
2025-11-11 14:17:45,564 - app - INFO - config:48 - Application startup......................................
2025-11-11 14:17:45,568 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-11 14:17:48,459 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52380 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-11 14:41:18,953 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-11 14:41:19,063 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-11 14:41:19,064 - app - INFO - config:52 - Application shutdown.....................................
2025-11-11 14:41:19,065 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-11 14:41:19,066 - uvicorn.error - INFO - server:94 - Finished server process [16716]
2025-11-12 10:23:58,127 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:23:58,132 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:24:47,733 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:24:47,783 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50497 - "GET /admin_panel/static/css/main.css HTTP/1.1" 304
2025-11-12 10:24:47,785 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50492 - "GET /admin_panel/static/css/tabler-icons.min.css HTTP/1.1" 304
2025-11-12 10:24:47,787 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /admin_panel/static/css/tabler.min.css HTTP/1.1" 304
2025-11-12 10:24:47,789 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50496 - "GET /admin_panel/static/css/flatpickr.min.css HTTP/1.1" 304
2025-11-12 10:24:47,791 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50494 - "GET /admin_panel/static/css/fontawesome.min.css HTTP/1.1" 304
2025-11-12 10:24:47,793 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50495 - "GET /admin_panel/static/css/select2.min.css HTTP/1.1" 304
2025-11-12 10:24:47,797 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50497 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-12 10:24:47,799 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /admin/statics/js/tabler.min.js HTTP/1.1" 304
2025-11-12 10:24:47,801 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50496 - "GET /admin/statics/js/popper.min.js HTTP/1.1" 304
2025-11-12 10:24:47,803 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50495 - "GET /admin/statics/js/select2.full.min.js HTTP/1.1" 304
2025-11-12 10:24:47,805 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50492 - "GET /admin/statics/js/jquery.min.js HTTP/1.1" 304
2025-11-12 10:24:47,807 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50494 - "GET /admin/statics/js/bootstrap.min.js HTTP/1.1" 304
2025-11-12 10:24:47,812 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50497 - "GET /admin/statics/js/flatpickr.min.js HTTP/1.1" 304
2025-11-12 10:24:47,813 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /admin/statics/js/main.js HTTP/1.1" 304
2025-11-12 10:24:47,825 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /admin_panel/static/webfonts/fa-solid-900.woff2 HTTP/1.1" 304
2025-11-12 10:24:47,858 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50491 - "GET /favicon.ico HTTP/1.1" 404
2025-11-12 10:25:03,253 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?page=2 HTTP/1.1" 200
2025-11-12 10:25:05,101 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?page=3 HTTP/1.1" 200
2025-11-12 10:25:08,286 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?page=2 HTTP/1.1" 200
2025-11-12 10:25:10,153 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?page=1 HTTP/1.1" 200
2025-11-12 10:25:12,878 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?pageSize=25&page=1 HTTP/1.1" 200
2025-11-12 10:25:16,558 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50502 - "GET /admin/drug/list?pageSize=50&page=1 HTTP/1.1" 200
2025-11-12 10:26:46,277 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50520 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-12 10:26:56,347 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50521 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 10:27:27,102 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50523 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:30:10,598 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50572 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 10:32:33,021 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:32:33,131 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:32:33,132 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:32:33,133 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:32:33,134 - uvicorn.error - INFO - server:94 - Finished server process [13288]
2025-11-12 10:41:24,138 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:41:24,142 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:41:25,159 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50762 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:42:11,624 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/user/list HTTP/1.1" 200
2025-11-12 10:42:13,377 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:42:15,691 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/user/list HTTP/1.1" 200
2025-11-12 10:42:16,633 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:42:17,764 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/user/list HTTP/1.1" 200
2025-11-12 10:42:18,299 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:42:18,860 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-12 10:42:19,998 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50763 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:46:21,869 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:46:21,980 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:46:21,981 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:46:21,982 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:46:21,983 - uvicorn.error - INFO - server:94 - Finished server process [15472]
2025-11-12 10:46:23,284 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:46:23,289 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:46:28,739 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:46:28,848 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:46:28,849 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:46:28,850 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:46:28,851 - uvicorn.error - INFO - server:94 - Finished server process [10100]
2025-11-12 10:48:45,719 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:48:45,724 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:48:52,931 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56262 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 10:50:05,383 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:50:05,491 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:50:05,493 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:50:05,494 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:50:05,496 - uvicorn.error - INFO - server:94 - Finished server process [10068]
2025-11-12 10:50:09,097 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:50:09,101 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:50:10,484 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57610 - "GET /admin/drug/edit/1 HTTP/1.1" 500
2025-11-12 10:50:10,486 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 578, in edit
    "form": Form(obj=model, data=self._normalize_wtform_data(model)),
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\form.py", line 208, in __call__
    return type.__call__(cls, *args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\form.py", line 280, in __init__
    super().__init__(self._unbound_fields, meta=meta_obj, prefix=prefix)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\form.py", line 48, in __init__
    field = meta.bind_field(self, unbound_field, options)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 28, in bind_field
    return unbound_field.bind(form=form, **options)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 399, in bind
    return self.field_class(*self.args, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\fields.py", line 232, in __init__
    super().__init__(label=label, validators=validators, default=default, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\fields.py", line 145, in __init__
    super().__init__(label=label, validators=validators, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\choices.py", line 25, in __init__
    super().__init__(label, validators, **kwargs)
TypeError: Field.__init__() got an unexpected keyword argument 'placeholder'
2025-11-12 10:50:25,094 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:50:25,203 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:50:25,204 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:50:25,205 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:50:25,206 - uvicorn.error - INFO - server:94 - Finished server process [11728]
2025-11-12 10:50:39,428 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:50:39,432 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:50:42,486 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57623 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 10:53:45,914 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57701 - "POST /admin/drug/edit/1 HTTP/1.1" 302
2025-11-12 10:53:45,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57701 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:53:58,522 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57702 - "GET /admin/drug/edit/5 HTTP/1.1" 500
2025-11-12 10:53:58,524 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 18, in block 'content'
    {{ render_form_fields(form, form_opts=form_opts) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 89, in template
    {{ render_field(f, kwargs) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 67, in template
    {{ field() }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 176, in __call__
    return self.meta.render_field(self, kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 64, in render_field
    return field.widget(field, **render_kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\widgets.py", line 70, in __call__
    kwargs.setdefault("data-json", json.dumps(field.data))
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type DiseaseType is not JSON serializable
2025-11-12 10:54:29,820 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 10:54:29,929 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 10:54:29,930 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 10:54:29,931 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 10:54:29,932 - uvicorn.error - INFO - server:94 - Finished server process [740]
2025-11-12 10:55:21,339 - app - INFO - config:48 - Application startup......................................
2025-11-12 10:55:21,344 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 10:55:25,626 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57717 - "GET /admin/drug/edit/5 HTTP/1.1" 500
2025-11-12 10:55:25,627 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 18, in block 'content'
    {{ render_form_fields(form, form_opts=form_opts) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 89, in template
    {{ render_field(f, kwargs) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 67, in template
    {{ field() }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 176, in __call__
    return self.meta.render_field(self, kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 64, in render_field
    return field.widget(field, **render_kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\widgets.py", line 70, in __call__
    kwargs.setdefault("data-json", json.dumps(field.data))
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type DiseaseType is not JSON serializable
2025-11-12 10:55:30,047 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57718 - "GET /admin/drug/details/5 HTTP/1.1" 200
2025-11-12 10:55:35,256 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57721 - "GET /admin/disease-type/details/2 HTTP/1.1" 404
2025-11-12 10:55:48,162 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57726 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 10:55:50,036 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57726 - "GET /admin/drug/edit/3 HTTP/1.1" 500
2025-11-12 10:55:50,038 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 18, in block 'content'
    {{ render_form_fields(form, form_opts=form_opts) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 89, in template
    {{ render_field(f, kwargs) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 67, in template
    {{ field() }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 176, in __call__
    return self.meta.render_field(self, kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 64, in render_field
    return field.widget(field, **render_kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\widgets.py", line 70, in __call__
    kwargs.setdefault("data-json", json.dumps(field.data))
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type DiseaseType is not JSON serializable
2025-11-12 10:55:53,156 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57727 - "GET /admin/drug/edit/1 HTTP/1.1" 500
2025-11-12 10:55:53,158 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 18, in block 'content'
    {{ render_form_fields(form, form_opts=form_opts) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 89, in template
    {{ render_field(f, kwargs) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 67, in template
    {{ field() }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 176, in __call__
    return self.meta.render_field(self, kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 64, in render_field
    return field.widget(field, **render_kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\widgets.py", line 70, in __call__
    kwargs.setdefault("data-json", json.dumps(field.data))
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type DiseaseType is not JSON serializable
2025-11-12 11:00:20,093 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:00:20,202 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:00:20,203 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:00:20,206 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:00:20,208 - uvicorn.error - INFO - server:94 - Finished server process [13524]
2025-11-12 11:00:21,506 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:00:21,510 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:01:33,249 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:01:33,358 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:01:33,362 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:01:33,365 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:01:33,365 - uvicorn.error - INFO - server:94 - Finished server process [6112]
2025-11-12 11:01:38,044 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:01:38,050 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:01:43,512 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57783 - "GET /admin/drug/list HTTP/1.1" 500
2025-11-12 11:01:43,514 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\list.html", line 127, in block 'content'
    {% set value, formatted_value = model_view.get_list_value(row, name) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 930, in get_list_value
    formatter(obj, prop) if formatter else self._default_formatter(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 206, in <lambda>
    Drug.price: lambda model, value: f"{int(value):,}"
ValueError: invalid literal for int() with base 10: 'price'
2025-11-12 11:02:08,528 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:02:08,638 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:02:08,639 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:02:08,640 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:02:08,641 - uvicorn.error - INFO - server:94 - Finished server process [15716]
2025-11-12 11:02:10,158 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:02:10,163 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:02:12,966 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:02:12,970 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:02:15,533 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57792 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:02:16,989 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57792 - "GET /admin/drug/edit/1 HTTP/1.1" 500
2025-11-12 11:02:16,991 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 582, in edit
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\edit.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import render_form_fields %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\edit.html", line 18, in block 'content'
    {{ render_form_fields(form, form_opts=form_opts) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 89, in template
    {{ render_field(f, kwargs) }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\runtime.py", line 773, in _async_invoke
    rv = await self._func(*arguments)  # type: ignore
  File "admin_panel\templates\sqladmin\_macros.html", line 67, in template
    {{ field() }}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\fields\core.py", line 176, in __call__
    return self.meta.render_field(self, kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\wtforms\meta.py", line 64, in render_field
    return field.widget(field, **render_kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\widgets.py", line 43, in __call__
    kwargs.setdefault("data-url", field.loader.model_admin.ajax_lookup_url)
AttributeError: 'QuerySelectMultipleField' object has no attribute 'loader'
2025-11-12 11:07:11,748 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:07:11,859 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:07:11,860 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:07:11,862 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:07:11,864 - uvicorn.error - INFO - server:94 - Finished server process [9468]
2025-11-12 11:12:17,509 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:12:17,514 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:12:39,951 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:12:40,059 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:12:40,060 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:12:40,061 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:12:40,062 - uvicorn.error - INFO - server:94 - Finished server process [3256]
2025-11-12 11:12:45,921 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:12:45,925 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:12:51,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:12:52,827 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 11:13:04,350 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57899 - "GET /admin/drug/ajax/lookup?name=disease_type&term=%D8%B4 HTTP/1.1" 200
2025-11-12 11:13:04,361 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57899 - "GET /admin/drug/ajax/lookup?name=disease_type&term=%D8%B4%D8%B3 HTTP/1.1" 200
2025-11-12 11:13:04,600 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57899 - "GET /admin/drug/ajax/lookup?name=disease_type&term=%D8%B4%D8%B3%DB%8C HTTP/1.1" 200
2025-11-12 11:13:07,786 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57899 - "GET /admin/drug/ajax/lookup?name=disease_type&term=%D8%B3 HTTP/1.1" 200
2025-11-12 11:13:15,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57912 - "GET /admin/drug/ajax/lookup?name=disease_type&term=%DA%86 HTTP/1.1" 200
2025-11-12 11:15:04,889 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:15:04,997 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:15:05,000 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:15:05,003 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:15:05,004 - uvicorn.error - INFO - server:94 - Finished server process [14580]
2025-11-12 11:15:09,389 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:15:09,394 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:15:14,395 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57928 - "GET /admin/drug/edit/1 HTTP/1.1" 200
2025-11-12 11:15:17,514 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57928 - "GET /admin/drug/list HTTP/1.1" 500
2025-11-12 11:15:17,516 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\list.html", line 127, in block 'content'
    {% set value, formatted_value = model_view.get_list_value(row, name) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 930, in get_list_value
    formatter(obj, prop) if formatter else self._default_formatter(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 217, in <lambda>
    Drug.price: lambda model, value: f"{int(value):,}"
ValueError: invalid literal for int() with base 10: 'price'
2025-11-12 11:18:04,233 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:18:04,342 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:18:04,345 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:18:04,349 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:18:04,351 - uvicorn.error - INFO - server:94 - Finished server process [6416]
2025-11-12 11:18:09,100 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:18:09,105 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:18:13,021 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57962 - "GET /admin/drug/list HTTP/1.1" 500
2025-11-12 11:18:13,023 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\list.html", line 127, in block 'content'
    {% set value, formatted_value = model_view.get_list_value(row, name) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 930, in get_list_value
    formatter(obj, prop) if formatter else self._default_formatter(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 218, in <lambda>
    attr.key) is not None else " "
AttributeError: 'str' object has no attribute 'key'
2025-11-12 11:21:34,132 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:21:34,243 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:21:34,244 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:21:34,245 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:21:34,246 - uvicorn.error - INFO - server:94 - Finished server process [8768]
2025-11-12 11:21:37,988 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:21:37,992 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:21:39,786 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58008 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:22:28,067 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:22:28,173 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:22:28,175 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:22:28,176 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:22:28,176 - uvicorn.error - INFO - server:94 - Finished server process [16952]
2025-11-12 11:22:53,897 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:22:53,901 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:22:56,100 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58031 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:23:01,506 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58032 - "GET /admin/drug/details/1 HTTP/1.1" 200
2025-11-12 11:23:21,109 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58034 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:23:25,628 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58034 - "GET /admin/user/list HTTP/1.1" 200
2025-11-12 11:23:34,332 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58040 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:24:40,700 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:24:40,808 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:24:40,811 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:24:40,814 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:24:40,815 - uvicorn.error - INFO - server:94 - Finished server process [11620]
2025-11-12 11:24:48,667 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:24:48,671 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:24:51,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58053 - "GET /admin/drug/list HTTP/1.1" 200
2025-11-12 11:24:52,367 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58053 - "GET /admin/disease-type/list HTTP/1.1" 200
2025-11-12 11:29:20,662 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:29:20,771 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:29:20,773 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:29:20,774 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:29:20,775 - uvicorn.error - INFO - server:94 - Finished server process [13584]
2025-11-12 11:29:24,581 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:29:24,587 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:29:26,391 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58096 - "GET /admin/disease-type/list HTTP/1.1" 200
2025-11-12 11:29:31,997 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58097 - "GET /admin/disease-type/details/2 HTTP/1.1" 200
2025-11-12 11:31:05,875 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:31:05,984 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:31:05,985 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:31:05,986 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:31:05,987 - uvicorn.error - INFO - server:94 - Finished server process [15420]
2025-11-12 11:31:10,071 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:31:10,075 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:31:15,078 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58113 - "GET /admin/disease-type/details/2 HTTP/1.1" 200
2025-11-12 11:31:26,423 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58114 - "GET /admin/disease-type/edit/2 HTTP/1.1" 200
2025-11-12 11:31:30,428 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58114 - "GET /admin/disease-type/edit/2 HTTP/1.1" 200
2025-11-12 11:32:30,187 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:32:30,298 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:32:30,299 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:32:30,300 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:32:30,301 - uvicorn.error - INFO - server:94 - Finished server process [16072]
2025-11-12 11:32:34,691 - app - INFO - config:48 - Application startup......................................
2025-11-12 11:32:34,695 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 11:32:36,414 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58132 - "GET /admin/disease-type/edit/2 HTTP/1.1" 200
2025-11-12 11:34:25,613 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 11:34:25,721 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 11:34:25,722 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 11:34:25,723 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 11:34:25,724 - uvicorn.error - INFO - server:94 - Finished server process [9028]
2025-11-12 14:11:25,179 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:11:25,184 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:11:28,020 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 14:11:28,128 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 14:11:28,131 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 14:11:28,134 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 14:11:28,135 - uvicorn.error - INFO - server:94 - Finished server process [1152]
2025-11-12 14:11:33,759 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:11:33,763 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:11:38,803 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49356 - "GET /admin/user/list HTTP/1.1" 200
2025-11-12 14:11:41,284 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49356 - "GET /admin/order/list HTTP/1.1" 500
2025-11-12 14:11:41,285 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 462, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\authentication.py", line 72, in wrapper_decorator
    return await func(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\application.py", line 466, in list
    return await self.templates.TemplateResponse(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\templating.py", line 65, in TemplateResponse
    content = await template.render_async(context)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1318, in render_async
    return self.environment.handle_exception()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\environment.py", line 1315, in <listcomp>
    [n async for n in self.root_render_func(ctx)]  # type: ignore
  File "admin_panel\templates\sqladmin\list.html", line 1, in top-level template code
    {% extends "sqladmin/layout.html" %}
  File "admin_panel\templates\sqladmin\layout.html", line 2, in top-level template code
    {% from 'sqladmin/_macros.html' import display_menu %}
  File "admin_panel\templates\sqladmin\base.html", line 64, in top-level template code
    {% block body %}
  File "admin_panel\templates\sqladmin\layout.html", line 49, in block 'body'
    {% block content %} {% endblock %}
  File "admin_panel\templates\sqladmin\list.html", line 127, in block 'content'
    {% set value, formatted_value = model_view.get_list_value(row, name) %}
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\jinja2\async_utils.py", line 68, in auto_await
    return await t.cast("t.Awaitable[V]", value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqladmin\models.py", line 930, in get_list_value
    formatter(obj, prop) if formatter else self._default_formatter(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\admin_panel\views.py", line 313, in <lambda>
    Order.created_at: lambda m, a: getattr(m, a.key).strftime("%Y-%m-%d %H:%M")
AttributeError: 'str' object has no attribute 'key'
2025-11-12 14:14:14,257 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 14:14:14,364 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 14:14:14,367 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 14:14:14,370 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 14:14:14,371 - uvicorn.error - INFO - server:94 - Finished server process [4020]
2025-11-12 14:14:17,664 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:14:17,668 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:14:20,884 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49386 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:14:20,928 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49386 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 304
2025-11-12 14:14:44,709 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49387 - "GET /admin/order/details/17 HTTP/1.1" 200
2025-11-12 14:15:17,615 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49391 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:15:21,784 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49391 - "GET /admin/order/edit/17 HTTP/1.1" 200
2025-11-12 14:15:42,247 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49398 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:15:47,989 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49400 - "GET /admin/order/details/18 HTTP/1.1" 200
2025-11-12 14:15:50,223 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49400 - "GET /admin/order-list/details/83 HTTP/1.1" 404
2025-11-12 14:18:40,205 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49687 - "GET /admin/order/edit/18 HTTP/1.1" 200
2025-11-12 14:18:43,050 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49687 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:18:48,035 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49687 - "GET /admin/order/edit/17 HTTP/1.1" 200
2025-11-12 14:18:53,572 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49688 - "GET /admin/order/ajax/lookup?name=patient&term=%D8%B4 HTTP/1.1" 200
2025-11-12 14:18:53,595 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49688 - "GET /admin/order/ajax/lookup?name=patient&term=%D8%B4%D8%B3 HTTP/1.1" 200
2025-11-12 14:18:53,742 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49688 - "GET /admin/order/ajax/lookup?name=patient&term=%D8%B4%D8%B3%DB%8C HTTP/1.1" 200
2025-11-12 14:18:54,957 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49688 - "GET /admin/order/ajax/lookup?name=patient&term=%D8%B4%D8%B3 HTTP/1.1" 200
2025-11-12 14:18:55,317 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49688 - "GET /admin/order/ajax/lookup?name=patient&term=%D8%B4 HTTP/1.1" 200
2025-11-12 14:24:16,399 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 14:24:16,507 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 14:24:16,508 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 14:24:16,509 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 14:24:16,510 - uvicorn.error - INFO - server:94 - Finished server process [12916]
2025-11-12 14:24:17,847 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:24:17,852 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:25:56,407 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 14:25:56,517 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 14:25:56,518 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 14:25:56,519 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 14:25:56,520 - uvicorn.error - INFO - server:94 - Finished server process [13984]
2025-11-12 14:25:58,060 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:25:58,065 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:26:00,870 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:26:00,875 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:26:03,116 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49755 - "GET /admin/order/edit/17 HTTP/1.1" 200
2025-11-12 14:26:06,375 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49755 - "GET /admin/patient/list HTTP/1.1" 200
2025-11-12 14:26:11,027 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49755 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:26:27,361 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49756 - "GET /admin/order/details/17 HTTP/1.1" 200
2025-11-12 14:26:33,016 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49759 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 14:26:34,608 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49759 - "GET /admin/order/edit/18 HTTP/1.1" 200
2025-11-12 14:59:46,795 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 14:59:46,904 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 14:59:46,905 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 14:59:46,906 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 14:59:46,907 - uvicorn.error - INFO - server:94 - Finished server process [15848]
2025-11-12 14:59:48,216 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:59:48,221 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:59:48,263 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-11-12 14:59:49,813 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:59:49,818 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 14:59:53,290 - app - INFO - config:48 - Application startup......................................
2025-11-12 14:59:53,295 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 15:00:07,735 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50148 - "GET /admin/order/edit/18 HTTP/1.1" 200
2025-11-12 15:00:14,645 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50149 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:05:32,644 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 15:05:32,752 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 15:05:32,755 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 15:05:32,759 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 15:05:32,761 - uvicorn.error - INFO - server:94 - Finished server process [12692]
2025-11-12 15:05:36,374 - app - INFO - config:48 - Application startup......................................
2025-11-12 15:05:36,379 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 15:06:57,971 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 15:06:58,080 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 15:06:58,083 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 15:06:58,086 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 15:06:58,087 - uvicorn.error - INFO - server:94 - Finished server process [16792]
2025-11-12 15:07:01,478 - app - INFO - config:48 - Application startup......................................
2025-11-12 15:07:01,483 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 15:07:03,712 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50228 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:07:06,295 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50228 - "GET /admin/order-list/list HTTP/1.1" 200
2025-11-12 15:07:16,299 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50229 - "GET /admin/order-list/details/83 HTTP/1.1" 200
2025-11-12 15:07:27,696 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50233 - "GET /admin/order-list/list HTTP/1.1" 200
2025-11-12 15:07:38,577 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50234 - "GET /admin/order-list/details/83 HTTP/1.1" 200
2025-11-12 15:07:43,222 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50234 - "GET /admin/order-list/edit/83 HTTP/1.1" 200
2025-11-12 15:08:19,198 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50240 - "GET /admin/order-list/list HTTP/1.1" 200
2025-11-12 15:08:27,480 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50246 - "GET /admin/order-list/list?search=1 HTTP/1.1" 200
2025-11-12 15:08:32,632 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50247 - "GET /admin/order-list/list?search=17 HTTP/1.1" 200
2025-11-12 15:08:33,335 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50247 - "GET /admin/order-list/list?search=17 HTTP/1.1" 200
2025-11-12 15:11:03,997 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 15:11:04,107 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 15:11:04,108 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 15:11:04,109 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 15:11:04,110 - uvicorn.error - INFO - server:94 - Finished server process [9192]
2025-11-12 15:11:08,068 - app - INFO - config:48 - Application startup......................................
2025-11-12 15:11:08,072 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 15:11:13,237 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50284 - "GET /admin/order-list/list?search=17 HTTP/1.1" 200
2025-11-12 15:11:14,075 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50284 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:11:21,044 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50285 - "GET /admin/order/details/17 HTTP/1.1" 200
2025-11-12 15:11:30,070 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50287 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:11:31,614 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50287 - "GET /admin/order/edit/17 HTTP/1.1" 200
2025-11-12 15:11:37,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50289 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:58:40,476 - app - INFO - config:48 - Application startup......................................
2025-11-12 15:58:40,481 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-11-12 15:58:41,314 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50684 - "GET /admin/order/list HTTP/1.1" 200
2025-11-12 15:58:41,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50684 - "GET /admin_panel/static/css/tabler.min.css HTTP/1.1" 200
2025-11-12 15:58:41,364 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50685 - "GET /admin_panel/static/css/tabler-icons.min.css HTTP/1.1" 200
2025-11-12 15:58:41,366 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50688 - "GET /admin_panel/static/css/select2.min.css HTTP/1.1" 200
2025-11-12 15:58:41,368 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50689 - "GET /admin_panel/static/css/flatpickr.min.css HTTP/1.1" 200
2025-11-12 15:58:41,370 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50687 - "GET /admin_panel/static/css/fontawesome.min.css HTTP/1.1" 200
2025-11-12 15:58:41,372 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50690 - "GET /admin_panel/static/css/main.css HTTP/1.1" 200
2025-11-12 15:58:41,391 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50690 - "GET /admin_panel/static/css/custom_admin.css HTTP/1.1" 200
2025-11-12 15:58:41,394 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50688 - "GET /admin/statics/js/jquery.min.js HTTP/1.1" 200
2025-11-12 15:58:41,396 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50689 - "GET /admin/statics/js/tabler.min.js HTTP/1.1" 200
2025-11-12 15:58:41,402 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50687 - "GET /admin/statics/js/popper.min.js HTTP/1.1" 200
2025-11-12 15:58:41,408 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50685 - "GET /admin/statics/js/bootstrap.min.js HTTP/1.1" 200
2025-11-12 15:58:41,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50684 - "GET /admin/statics/js/select2.full.min.js HTTP/1.1" 200
2025-11-12 15:58:41,419 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50690 - "GET /admin/statics/js/flatpickr.min.js HTTP/1.1" 200
2025-11-12 15:58:41,447 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50687 - "GET /admin/statics/js/main.js HTTP/1.1" 200
2025-11-12 15:58:41,480 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50688 - "GET /admin_panel/static/webfonts/Vazir-Bold.woff2 HTTP/1.1" 200
2025-11-12 15:58:41,482 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50690 - "GET /admin_panel/static/webfonts/Vazir-Medium.woff2 HTTP/1.1" 200
2025-11-12 15:58:41,484 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50685 - "GET /admin_panel/static/webfonts/fa-solid-900.woff2 HTTP/1.1" 200
2025-11-12 15:58:41,518 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50685 - "GET /favicon.ico HTTP/1.1" 404
2025-11-12 15:58:48,967 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50696 - "GET /admin/order-list/list?search=17 HTTP/1.1" 200
2025-11-12 15:59:56,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50714 - "GET /admin/order-list/list?search=19 HTTP/1.1" 200
2025-11-12 16:00:03,082 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50715 - "GET /admin/order-list/details/96 HTTP/1.1" 200
2025-11-12 16:00:11,636 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50717 - "GET /admin/order-list/list?search=18 HTTP/1.1" 200
2025-11-12 16:05:08,336 - uvicorn.error - INFO - server:264 - Shutting down
2025-11-12 16:05:08,444 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-11-12 16:05:08,445 - app - INFO - config:52 - Application shutdown.....................................
2025-11-12 16:05:08,447 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-11-12 16:05:08,448 - uvicorn.error - INFO - server:94 - Finished server process [11096]
