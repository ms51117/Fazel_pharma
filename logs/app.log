2025-10-09 00:55:22,116 - app - INFO - config:34 - Application startup...
2025-10-09 00:55:22,116 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 00:55:37,879 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-09 00:55:37,989 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-09 00:55:37,989 - app - INFO - config:37 - Application shutdown.
2025-10-09 00:55:37,989 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-09 00:55:37,989 - uvicorn.error - INFO - server:94 - Finished server process [6112]
2025-10-09 00:59:25,395 - app - INFO - config:31 - Application startup...
2025-10-09 00:59:25,396 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 00:59:42,087 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-09 00:59:42,197 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-09 00:59:42,197 - app - INFO - config:33 - Application shutdown.
2025-10-09 00:59:42,197 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-09 00:59:42,197 - uvicorn.error - INFO - server:94 - Finished server process [7832]
2025-10-09 22:30:21,348 - app - INFO - config:31 - Application startup......................................
2025-10-09 22:30:21,348 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 22:32:26,080 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54299 - "POST /login/access-token HTTP/1.1" 200
2025-10-09 23:31:19,736 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54828 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 401
2025-10-09 23:31:58,033 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54849 - "POST /login/access-token HTTP/1.1" 200
2025-10-09 23:32:33,410 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54854 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 401
2025-10-09 23:32:50,403 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54855 - "GET /permission/?skip=0&limit=10 HTTP/1.1" 401
2025-10-09 23:35:45,120 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54889 - "GET /permission/?skip=0&limit=10 HTTP/1.1" 401
2025-10-09 23:35:59,868 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-09 23:35:59,975 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-09 23:35:59,975 - app - INFO - config:33 - Application shutdown.....................................
2025-10-09 23:35:59,975 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-09 23:35:59,975 - uvicorn.error - INFO - server:94 - Finished server process [724]
2025-10-09 23:36:01,147 - app - INFO - config:31 - Application startup......................................
2025-10-09 23:36:01,147 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 23:36:07,664 - app - INFO - config:31 - Application startup......................................
2025-10-09 23:36:07,665 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 23:36:13,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54912 - "GET /permission/?skip=0&limit=10 HTTP/1.1" 401
2025-10-09 23:37:05,310 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54934 - "GET /permission/?skip=0&limit=10 HTTP/1.1" 401
2025-10-09 23:37:07,468 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54934 - "GET /permission/?skip=0&limit=10 HTTP/1.1" 401
2025-10-09 23:37:14,881 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54938 - "GET /docs HTTP/1.1" 200
2025-10-09 23:37:14,989 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54938 - "GET /openapi.json HTTP/1.1" 200
2025-10-09 23:37:35,467 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54939 - "POST /login/access-token HTTP/1.1" 200
2025-10-09 23:38:15,635 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-09 23:38:15,743 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-09 23:38:15,743 - app - INFO - config:33 - Application shutdown.....................................
2025-10-09 23:38:15,744 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-09 23:38:15,744 - uvicorn.error - INFO - server:94 - Finished server process [14816]
2025-10-09 23:41:50,504 - app - INFO - config:31 - Application startup......................................
2025-10-09 23:41:50,504 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 23:41:56,487 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55009 - "GET /docs HTTP/1.1" 200
2025-10-09 23:41:56,663 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55009 - "GET /openapi.json HTTP/1.1" 200
2025-10-09 23:42:13,720 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55010 - "POST /login/access-token HTTP/1.1" 200
2025-10-09 23:42:41,252 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55029 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 200
2025-10-09 23:43:06,444 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55043 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 403
2025-10-09 23:43:27,778 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-09 23:43:27,886 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-09 23:43:27,886 - app - INFO - config:33 - Application shutdown.....................................
2025-10-09 23:43:27,886 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-09 23:43:27,887 - uvicorn.error - INFO - server:94 - Finished server process [7044]
2025-10-09 23:56:06,098 - app - INFO - config:31 - Application startup......................................
2025-10-09 23:56:06,098 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-09 23:56:38,349 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55164 - "GET /docs HTTP/1.1" 200
2025-10-09 23:56:38,523 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55164 - "GET /openapi.json HTTP/1.1" 200
2025-10-09 23:56:58,481 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55165 - "POST /login/access-token HTTP/1.1" 200
2025-10-09 23:57:33,403 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55184 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 500
2025-10-09 23:57:33,404 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'is_active'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 377, in app
    solved_result = await solve_dependencies(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\dependencies\utils.py", line 646, in solve_dependencies
    solved = await call(**solved_result.values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\security.py", line 123, in get_current_active_user
    if not current_user.is_active:
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: is_active
2025-10-10 00:02:07,564 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 00:02:07,673 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 00:02:07,674 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 00:02:07,674 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 00:02:07,674 - uvicorn.error - INFO - server:94 - Finished server process [9868]
2025-10-10 00:10:39,613 - app - INFO - config:31 - Application startup......................................
2025-10-10 00:10:39,614 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 00:10:55,600 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55298 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 200
2025-10-10 00:11:22,000 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55308 - "GET /docs HTTP/1.1" 200
2025-10-10 00:11:22,169 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55308 - "GET /openapi.json HTTP/1.1" 200
2025-10-10 00:11:27,197 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55309 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 403
2025-10-10 00:11:55,123 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55323 - "POST /login/access-token HTTP/1.1" 200
2025-10-10 00:12:21,845 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55326 - "GET /permission/?skip=0&limit=100 HTTP/1.1" 200
2025-10-10 00:21:27,297 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 00:21:27,408 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 00:21:27,408 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 00:21:27,409 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 00:21:27,409 - uvicorn.error - INFO - server:94 - Finished server process [12168]
2025-10-10 00:30:17,907 - app - INFO - config:31 - Application startup......................................
2025-10-10 00:30:17,907 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 00:30:41,368 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55874 - "GET /user/ HTTP/1.1" 200
2025-10-10 00:31:35,126 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55946 - "GET /user/ HTTP/1.1" 403
2025-10-10 00:46:39,343 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 00:46:39,451 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 00:46:39,451 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 00:46:39,452 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 00:46:39,452 - uvicorn.error - INFO - server:94 - Finished server process [9136]
2025-10-10 00:46:50,870 - app - INFO - config:31 - Application startup......................................
2025-10-10 00:46:50,870 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 00:47:00,876 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56077 - "GET /user/ HTTP/1.1" 403
2025-10-10 00:47:19,399 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 00:47:19,507 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 00:47:19,507 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 00:47:19,507 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 00:47:19,507 - uvicorn.error - INFO - server:94 - Finished server process [5420]
2025-10-10 16:46:20,586 - app - INFO - config:31 - Application startup......................................
2025-10-10 16:46:20,586 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 16:46:38,197 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59640 - "POST /login/access-token HTTP/1.1" 200
2025-10-10 17:08:24,619 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59989 - "POST /user/ HTTP/1.1" 403
2025-10-10 17:08:41,853 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59997 - "POST /login/access-token HTTP/1.1" 200
2025-10-10 17:09:07,398 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60009 - "POST /user/ HTTP/1.1" 403
2025-10-10 17:20:29,785 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 17:20:29,893 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 17:20:29,894 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 17:20:29,894 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 17:20:29,894 - uvicorn.error - INFO - server:94 - Finished server process [8424]
2025-10-10 17:21:06,016 - app - INFO - config:31 - Application startup......................................
2025-10-10 17:21:06,016 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 17:21:14,106 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60715 - "GET /docs HTTP/1.1" 200
2025-10-10 17:21:14,309 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60715 - "GET /openapi.json HTTP/1.1" 200
2025-10-10 17:21:46,849 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60716 - "POST /login/access-token HTTP/1.1" 200
2025-10-10 17:23:43,084 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60841 - "POST /user/ HTTP/1.1" 422
2025-10-10 17:25:12,122 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60916 - "POST /user/ HTTP/1.1" 400
2025-10-10 17:25:50,254 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60943 - "POST /user/ HTTP/1.1" 500
2025-10-10 17:25:50,254 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg\\protocol\\codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg\\protocol\\codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
  File "asyncpg\\protocol\\protocol.pyx", line 185, in bind_execute
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 9876543210 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 9876543210 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\user.py", line 55, in create_user
    existing_user = await session.exec(select(User).where(User.mobile_number == user_in.mobile_number))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 9876543210 (expected str, got int)
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".mobile_number = $1::VARCHAR]
[parameters: (9876543210,)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:29:53,670 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 17:29:53,777 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 17:29:53,777 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 17:29:53,777 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 17:29:53,777 - uvicorn.error - INFO - server:94 - Finished server process [17652]
2025-10-10 17:30:26,752 - app - INFO - config:31 - Application startup......................................
2025-10-10 17:30:26,752 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 17:30:33,085 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61321 - "POST /user/ HTTP/1.1" 201
2025-10-10 17:33:38,996 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-10 17:33:39,104 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-10 17:33:39,105 - app - INFO - config:33 - Application shutdown.....................................
2025-10-10 17:33:39,105 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-10 17:33:39,105 - uvicorn.error - INFO - server:94 - Finished server process [15848]
2025-10-10 18:16:04,936 - app - INFO - config:31 - Application startup......................................
2025-10-10 18:16:04,936 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-10 18:16:23,970 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62285 - "POST /login/access-token HTTP/1.1" 200
2025-10-10 18:16:52,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62304 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-10 18:28:44,205 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62465 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 13:06:29,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60321 - "POST /login/access-token HTTP/1.1" 422
2025-10-13 13:43:32,687 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60608 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 13:46:35,939 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60734 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 13:48:57,998 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61085 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 13:49:30,490 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61104 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 13:49:30,494 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61106 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 13:50:02,488 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61128 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 13:50:02,497 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61130 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 13:50:11,716 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61132 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 13:50:11,719 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61134 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 14:23:28,392 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:61696 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 14:50:06,854 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62042 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 14:59:53,509 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62176 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:00:47,088 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62191 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:05:21,477 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-13 15:05:21,585 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-13 15:05:21,588 - app - INFO - config:33 - Application shutdown.....................................
2025-10-13 15:05:21,588 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-13 15:05:21,589 - uvicorn.error - INFO - server:94 - Finished server process [1072]
2025-10-13 15:05:28,987 - app - INFO - config:31 - Application startup......................................
2025-10-13 15:05:28,987 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-13 15:08:07,850 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62316 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:09:15,437 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62345 - "POST /login/access-token HTTP/1.1" 400
2025-10-13 15:09:34,466 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62347 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:20:09,167 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62474 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:25:21,244 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62547 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:40:00,259 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59135 - "POST /login/access-token HTTP/1.1" 422
2025-10-13 15:42:32,085 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59176 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:53:50,242 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59357 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:57:26,598 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59416 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:57:37,967 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59427 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:57:45,678 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59433 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:58:31,629 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59449 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:58:44,576 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59459 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 15:59:15,210 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59470 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:03:34,765 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59529 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:06:03,588 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59581 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:07:11,360 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59700 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:10:05,017 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59832 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:11:25,808 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59849 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:15:39,955 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59901 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:17:12,740 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59924 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:45:11,433 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60242 - "POST /login/access-token HTTP/1.1" 200
2025-10-13 16:45:19,299 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60247 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-13 16:45:19,302 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60249 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:06:51,008 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62594 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:07:01,236 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62653 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:07:01,240 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62655 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:07:01,243 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62657 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:07:15,710 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62666 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:07:15,713 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62668 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:07:15,716 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62670 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:10:34,400 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62705 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:10:42,035 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62716 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:10:42,038 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62718 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:10:42,041 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62720 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:18:39,320 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62831 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:18:43,680 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62836 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:18:43,684 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62838 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:18:52,195 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62842 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:18:59,900 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62850 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:18:59,903 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62852 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:03,287 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62854 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:10,572 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62856 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:10,574 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62858 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:21,445 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62860 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:21,449 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62862 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:26,301 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62864 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:26,304 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62866 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:55,953 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62879 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:19:55,956 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62881 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:34,571 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62962 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:26:37,406 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62967 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:37,410 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62969 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:37,413 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62971 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:37,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62973 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:56,539 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62978 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:56,542 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62980 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:56,546 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62982 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:26:56,548 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:62984 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:35:30,144 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63115 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:35:36,309 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63120 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:35:36,312 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63122 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:36,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63288 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:47:42,293 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63300 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:42,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63302 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:47,160 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63306 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:55,213 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63309 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:55,217 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63311 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:47:58,564 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63313 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:03,551 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63315 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:03,555 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63317 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:09,188 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63319 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:09,191 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63321 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:12,894 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63324 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:12,897 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63326 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:27,823 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63328 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:27,826 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63330 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:40,910 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63350 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:40,913 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63352 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:48:47,872 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63355 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:49:08,864 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63357 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:49:49,910 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63376 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:54:51,208 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63446 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 20:54:54,980 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63451 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:54:54,983 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63453 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:54:57,681 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63457 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:01,797 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63459 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:01,800 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63461 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:03,761 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63463 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:09,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63465 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:09,054 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63467 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:14,614 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63469 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:14,617 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63471 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:20,797 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63474 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:20,801 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63476 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:31,598 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63478 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:31,601 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63480 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:46,543 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63488 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:46,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63490 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:53,917 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63502 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:53,920 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63504 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:55:58,066 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63506 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:56:22,897 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63509 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:58:27,576 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63527 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:58:34,112 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63529 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:58:34,116 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63531 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 20:58:37,604 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63533 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:08:57,683 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63653 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 21:09:02,502 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63662 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:04,440 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63665 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:20,744 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63668 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:37,894 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63672 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:37,897 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63674 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:40,186 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63679 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:44,041 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63681 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:44,044 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63683 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:09:45,826 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63685 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:10:57,630 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63704 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:10:57,633 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63706 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:01,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63708 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:01,967 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63710 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:05,832 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63712 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:05,835 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63714 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:09,835 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63722 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:09,838 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63724 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:16,715 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63726 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:16,718 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63728 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:11:21,597 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63731 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:21,981 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63742 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:30,826 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63744 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:30,834 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63746 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:34,452 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63748 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:50,186 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63751 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:50,189 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63753 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:12:58,043 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63768 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:00,819 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63807 - "POST /login/access-token HTTP/1.1" 200
2025-10-16 21:17:05,640 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63812 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:05,643 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63814 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:07,217 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63818 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:10,513 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63820 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:10,516 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63822 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:13,195 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63830 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:18,490 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63832 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:18,494 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63834 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:22,302 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63838 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:22,306 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63840 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:30,603 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63843 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:30,606 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63845 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:39,847 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63848 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:39,851 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63850 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:49,179 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63852 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:49,183 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63854 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:17:55,798 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63856 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:18:38,302 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63876 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 21:18:38,304 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:63878 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:40,751 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64985 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:46,999 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64990 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:47,003 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64992 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:49,751 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64994 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:54,725 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65002 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:06:54,728 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65004 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:03,475 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65006 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:03,478 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65008 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:08,472 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65010 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:08,475 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65012 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:16,692 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65014 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:16,695 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65016 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:25,210 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65029 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:25,213 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65031 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:43,106 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65034 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:43,108 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65036 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-16 23:07:47,812 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65038 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:02:26,986 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-17 02:02:27,094 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-17 02:02:27,097 - app - INFO - config:33 - Application shutdown.....................................
2025-10-17 02:02:27,098 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-17 02:02:27,099 - uvicorn.error - INFO - server:94 - Finished server process [15260]
2025-10-17 02:02:29,203 - app - INFO - config:31 - Application startup......................................
2025-10-17 02:02:29,204 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-17 02:02:29,293 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-10-17 02:02:30,538 - app - INFO - config:31 - Application startup......................................
2025-10-17 02:02:30,538 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-17 02:02:42,817 - app - INFO - config:31 - Application startup......................................
2025-10-17 02:02:42,817 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-17 02:14:24,951 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56331 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:14:57,439 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56349 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:14:57,442 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56351 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:14:59,282 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56355 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:04,381 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56357 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:04,384 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56359 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:06,773 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56361 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:11,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56363 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:11,518 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56365 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:15,034 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56367 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:15,038 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56369 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:18,412 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56371 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:18,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56373 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:29,691 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56385 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:29,694 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56387 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:40,578 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56391 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:40,581 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56393 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:15:43,805 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56395 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:17:46,612 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56415 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:08,087 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56426 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:18:09,106 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56431 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:09,110 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56433 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:10,886 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56437 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:14,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56439 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:14,590 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56441 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:16,380 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56443 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:20,300 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56445 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:20,304 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56447 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:24,092 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56449 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:24,095 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56451 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:30,043 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56453 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:30,046 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56455 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:35,513 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56457 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:35,517 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56459 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:40,354 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56462 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:40,357 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56464 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:18:43,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56466 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:19:13,625 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56489 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:17,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56502 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:20:20,483 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56507 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:24,185 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56509 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:24,188 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56511 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:27,716 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56515 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:32,583 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56517 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:32,586 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56519 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:34,511 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56521 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:37,284 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56523 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:37,287 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56525 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:40,775 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56528 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:40,779 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56530 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:43,066 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56532 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:43,069 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56534 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:47,454 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56536 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:47,457 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56538 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:51,646 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56540 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:51,649 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56542 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:20:52,843 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56545 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:21:50,808 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56556 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:05,693 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56765 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:05,697 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56767 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:10,566 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56769 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:17,093 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56777 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:21,179 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56780 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:21,182 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56782 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:32:22,685 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56784 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:13,505 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56860 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:38:21,407 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56865 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:21,409 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56867 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:22,901 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56871 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:28,004 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56873 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:28,007 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56875 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:31,909 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56877 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:35,973 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56884 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:35,976 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56886 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:39,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56889 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:39,590 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56891 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:43,519 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56893 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:43,522 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56895 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:50,315 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56897 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:38:50,318 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56899 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:39:00,771 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56901 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:39:00,775 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56903 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:39:03,282 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56905 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:08,130 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57011 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:08,133 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57013 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:09,601 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57015 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:18,914 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57019 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:47:19,817 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57024 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:24,918 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57028 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:24,921 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57030 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:27,915 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57032 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:32,721 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57034 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:32,724 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57036 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:35,488 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57038 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:35,492 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57040 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:39,240 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57044 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:39,243 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57046 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:47,977 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57048 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:47,980 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57050 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:52,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57056 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:52,518 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57058 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:47:53,953 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57062 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:50:56,001 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57100 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:50:56,003 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57102 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:07,788 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57111 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:51:11,359 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57119 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:13,990 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57123 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:13,993 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57125 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:15,634 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57127 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:20,020 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57129 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:20,023 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57131 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:23,603 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57134 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:23,606 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57136 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:25,993 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57138 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:25,996 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57140 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:28,631 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57142 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:28,634 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57144 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:33,265 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57146 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:33,269 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57148 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:51:34,604 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57150 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:24,147 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57204 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 02:57:27,039 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57209 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:27,042 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57211 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:28,717 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57215 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:31,907 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57217 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:31,910 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57219 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:33,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57221 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:37,002 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57223 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:37,005 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57225 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:40,118 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57228 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:40,120 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57230 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:42,965 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57232 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:42,969 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57234 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:45,605 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57236 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:45,608 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57238 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:50,560 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57240 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:50,563 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57242 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 02:57:52,020 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57244 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:31,236 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57320 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 03:05:38,612 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57331 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:38,616 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57333 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:40,553 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57337 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:45,845 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57339 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:45,848 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57341 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:47,624 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57343 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:49,007 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57345 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:49,010 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57347 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:53,939 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57349 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:53,942 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57351 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:57,884 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57353 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:05:57,887 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57355 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:00,774 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57357 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:00,777 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57359 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:03,185 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57361 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:03,187 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57363 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:05,120 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57365 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:15,535 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57367 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:15,538 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57369 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:06:17,121 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57371 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:44,426 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57421 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 03:08:48,491 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57427 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:48,494 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57429 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:49,945 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57433 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:52,511 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57435 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:52,514 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57437 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:53,996 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57439 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:56,975 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57441 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:56,977 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57443 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:58,806 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57445 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:08:58,809 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57447 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:00,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57449 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:00,551 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57451 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:03,394 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57453 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:03,396 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57455 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:10,323 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57457 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:10,326 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57459 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:11,859 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57461 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:09:12,666 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57463 - "POST /patient/ HTTP/1.1" 403
2025-10-17 03:15:02,048 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57990 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:02,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57992 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:03,400 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57994 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:07,008 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58000 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:07,011 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58002 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:08,822 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58004 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:11,820 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58007 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:11,824 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58009 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:13,512 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58011 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:13,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58013 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:15,607 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58015 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:15,610 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58017 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:19,941 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58020 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:19,944 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58022 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:21,750 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58025 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:25,546 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58027 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:25,549 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58029 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:27,002 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58032 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:15:27,766 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58034 - "POST /patient/ HTTP/1.1" 201
2025-10-17 03:22:43,424 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58307 - "GET /docs HTTP/1.1" 200
2025-10-17 03:22:46,540 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58307 - "GET /openapi.json HTTP/1.1" 200
2025-10-17 03:30:51,617 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-17 03:30:51,726 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-17 03:30:51,726 - app - INFO - config:33 - Application shutdown.....................................
2025-10-17 03:30:51,726 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-17 03:30:51,726 - uvicorn.error - INFO - server:94 - Finished server process [25364]
2025-10-17 03:35:56,162 - app - INFO - config:31 - Application startup......................................
2025-10-17 03:35:56,162 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-17 03:36:01,901 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58540 - "GET /docs HTTP/1.1" 200
2025-10-17 03:36:02,095 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58540 - "GET /openapi.json HTTP/1.1" 200
2025-10-17 03:36:40,342 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58557 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 03:40:33,121 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58667 - "POST /login/access-token HTTP/1.1" 200
2025-10-17 03:40:34,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58675 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:34,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58676 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:34,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58677 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:34,033 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58681 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:34,034 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58682 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:34,035 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58683 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:46,486 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58695 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:57,961 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58705 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:40:57,964 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58707 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:01,325 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58709 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:04,512 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58712 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:04,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58714 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:10,601 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58717 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:10,604 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58719 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:16,361 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58723 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:16,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58725 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:25,347 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58728 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:25,350 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58730 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:30,048 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58732 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:30,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58734 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:35,405 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58746 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:41:36,163 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58748 - "POST /patient/ HTTP/1.1" 409
2025-10-17 03:42:43,237 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58828 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:43,240 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58830 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:44,723 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58832 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:48,639 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58839 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:48,643 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58841 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:51,197 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58848 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:55,166 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58854 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:55,172 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58856 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:59,012 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58873 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:42:59,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58875 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:03,247 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58882 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:03,251 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58884 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:06,042 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58893 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:06,047 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58895 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:10,116 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58902 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:10,119 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58904 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:14,605 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58911 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-17 03:43:15,465 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58915 - "POST /patient/ HTTP/1.1" 201
2025-10-17 03:46:04,315 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-17 03:46:04,424 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-17 03:46:04,424 - app - INFO - config:33 - Application shutdown.....................................
2025-10-17 03:46:04,425 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-17 03:46:04,425 - uvicorn.error - INFO - server:94 - Finished server process [23556]
2025-10-18 10:25:30,182 - app - INFO - config:31 - Application startup......................................
2025-10-18 10:25:30,182 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-18 10:25:43,079 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64675 - "POST /login/access-token HTTP/1.1" 200
2025-10-18 10:26:09,929 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64724 - "POST /login/access-token HTTP/1.1" 500
2025-10-18 10:26:09,929 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\selector_events.py", line 856, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 843, in _start_transaction
    await self._transaction.start()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 349, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 375, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\login.py", line 33, in login_for_access_token
    db_user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".mobile_number = $1::VARCHAR]
[parameters: ('09876543210',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-18 10:26:28,965 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64768 - "POST /login/access-token HTTP/1.1" 200
2025-10-18 10:27:04,960 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64778 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:04,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64780 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:10,783 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64784 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:29,208 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64797 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:29,211 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64799 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:33,602 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64809 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:40,222 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64813 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:40,225 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64815 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:45,872 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64817 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:45,875 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64819 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:52,337 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64821 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:52,340 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64823 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:59,697 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64825 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:27:59,700 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64827 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:28:09,965 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64831 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:28:09,968 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64833 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:28:13,334 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64835 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-18 10:28:15,675 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64837 - "POST /patient/ HTTP/1.1" 201
2025-10-19 20:58:36,473 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 20:58:36,585 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 20:58:36,590 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 20:58:36,592 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 20:58:36,593 - uvicorn.error - INFO - server:94 - Finished server process [4188]
2025-10-19 20:58:45,830 - app - INFO - config:31 - Application startup......................................
2025-10-19 20:58:45,831 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 20:58:51,249 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52311 - "GET /docs HTTP/1.1" 200
2025-10-19 20:58:54,815 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52311 - "GET /openapi.json HTTP/1.1" 200
2025-10-19 20:59:25,169 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52312 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 21:00:03,218 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52348 - "GET /message/unread-message-dates/ HTTP/1.1" 403
2025-10-19 21:01:44,218 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52489 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 21:02:06,357 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52497 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:02:06,359 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 167, in get_unread_message_dates
    .where(Message.is_seen == False)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: is_seen
2025-10-19 21:04:26,497 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52572 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:04:26,497 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 167, in get_unread_message_dates
    .where(Message.messages_seen == False)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: is_seen
2025-10-19 21:04:27,609 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52573 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:04:27,609 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 167, in get_unread_message_dates
    .where(Message.messages_seen == False)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: is_seen
2025-10-19 21:04:32,062 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 21:04:32,170 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 21:04:32,170 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 21:04:32,170 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 21:04:32,170 - uvicorn.error - INFO - server:94 - Finished server process [19036]
2025-10-19 21:04:33,568 - app - INFO - config:31 - Application startup......................................
2025-10-19 21:04:33,568 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 21:04:36,366 - app - INFO - config:31 - Application startup......................................
2025-10-19 21:04:36,366 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 21:04:43,009 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52594 - "GET /docs HTTP/1.1" 200
2025-10-19 21:04:43,186 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52594 - "GET /openapi.json HTTP/1.1" 200
2025-10-19 21:04:48,610 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52595 - "GET /message/unread-message-dates/ HTTP/1.1" 403
2025-10-19 21:05:10,867 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52604 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 21:05:37,647 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52615 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:05:37,647 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 178, in get_unread_message_dates
    return UnreadDatesResponse(dates=unread_dates)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadDatesResponse
dates.0
  Input should be a valid string [type=string_type, input_value=datetime.date(2025, 10, 7), input_type=date]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-10-19 21:10:26,543 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52687 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:10:26,544 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 178, in get_unread_message_dates
    return UnreadDatesResponse(dates=unread_dates)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadDatesResponse
dates.0
  Input should be a valid string [type=string_type, input_value=datetime.date(2025, 10, 7), input_type=date]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-10-19 21:10:28,569 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52688 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:10:28,570 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 178, in get_unread_message_dates
    return UnreadDatesResponse(dates=unread_dates)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadDatesResponse
dates.0
  Input should be a valid string [type=string_type, input_value=datetime.date(2025, 10, 7), input_type=date]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-10-19 21:10:29,725 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52689 - "GET /message/unread-message-dates/ HTTP/1.1" 500
2025-10-19 21:10:29,725 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 178, in get_unread_message_dates
    return UnreadDatesResponse(dates=unread_dates)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadDatesResponse
dates.0
  Input should be a valid string [type=string_type, input_value=datetime.date(2025, 10, 7), input_type=date]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-10-19 21:11:17,132 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 21:11:17,240 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 21:11:17,240 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 21:11:17,241 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 21:11:17,241 - uvicorn.error - INFO - server:94 - Finished server process [23372]
2025-10-19 21:11:23,024 - app - INFO - config:31 - Application startup......................................
2025-10-19 21:11:23,024 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 21:11:49,204 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 21:11:49,312 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 21:11:49,312 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 21:11:49,313 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 21:11:49,313 - uvicorn.error - INFO - server:94 - Finished server process [25768]
2025-10-19 21:12:04,835 - app - INFO - config:31 - Application startup......................................
2025-10-19 21:12:04,835 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 21:12:18,471 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52732 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 21:12:40,234 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52739 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-19 21:13:58,395 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 21:13:58,504 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 21:13:58,504 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 21:13:58,505 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 21:13:58,505 - uvicorn.error - INFO - server:94 - Finished server process [25696]
2025-10-19 22:11:47,150 - app - INFO - config:31 - Application startup......................................
2025-10-19 22:11:47,151 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 22:12:07,334 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56050 - "GET /docs HTTP/1.1" 200
2025-10-19 22:12:07,499 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56050 - "GET /openapi.json HTTP/1.1" 200
2025-10-19 22:12:31,916 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56051 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 22:13:17,289 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56077 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-19 22:13:37,865 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56078 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 500
2025-10-19 22:13:37,866 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 198, in get_unread_by_date
    .join(Patient, Message.patient_id == Patient.id)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: id
2025-10-19 22:17:20,524 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 22:17:20,633 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 22:17:20,633 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 22:17:20,634 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 22:17:20,634 - uvicorn.error - INFO - server:94 - Finished server process [11296]
2025-10-19 22:17:27,122 - app - INFO - config:31 - Application startup......................................
2025-10-19 22:17:27,123 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 22:17:34,567 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56146 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 500
2025-10-19 22:17:34,567 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 205, in get_unread_by_date
    results = await session.exec(statement)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1922, in _join
    self._join_left_to_right(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 1957, in _join_left_to_right
    ) = self._join_determine_implicit_left_side(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 2121, in _join_determine_implicit_left_side
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Don't know how to join to <Mapper at 0x256e8179c90; Patient>. Please use the .select_from() method to establish an explicit left side, as well as providing an explicit ON clause if not present already to help resolve the ambiguity.
2025-10-19 22:20:05,308 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 22:20:05,415 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 22:20:05,416 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 22:20:05,416 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 22:20:05,416 - uvicorn.error - INFO - server:94 - Finished server process [22200]
2025-10-19 22:21:02,780 - app - INFO - config:31 - Application startup......................................
2025-10-19 22:21:02,780 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 22:21:08,508 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56210 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-19 22:23:39,342 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56491 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 500
2025-10-19 22:23:39,342 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 214, in get_unread_by_date
    return UnreadPatientsResponse(patients=results)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadPatientsResponse
patients.0.telegram_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='string', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-10-19 22:23:42,926 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56492 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 500
2025-10-19 22:23:42,926 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\message.py", line 214, in get_unread_by_date
    return UnreadPatientsResponse(patients=results)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\main.py", line 814, in __init__
    sqlmodel_init(self=__pydantic_self__, data=data)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\_compat.py", line 358, in sqlmodel_init
    self.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for UnreadPatientsResponse
patients.0.telegram_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='string', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-10-19 22:27:03,460 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 22:27:03,568 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 22:27:03,568 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 22:27:03,568 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 22:27:03,568 - uvicorn.error - INFO - server:94 - Finished server process [19732]
2025-10-19 22:31:32,222 - app - INFO - config:31 - Application startup......................................
2025-10-19 22:31:32,222 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 22:31:33,658 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56654 - "GET /docs HTTP/1.1" 200
2025-10-19 22:31:33,879 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56654 - "GET /openapi.json HTTP/1.1" 200
2025-10-19 22:31:51,744 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56655 - "GET /message/unread-message-dates/ HTTP/1.1" 403
2025-10-19 22:32:15,430 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56674 - "POST /login/access-token HTTP/1.1" 200
2025-10-19 22:33:14,881 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56690 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-19 22:33:31,930 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56692 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-19 22:35:01,505 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56792 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-19 22:37:05,026 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 22:37:05,133 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 22:37:05,133 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 22:37:05,134 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 22:37:05,134 - uvicorn.error - INFO - server:94 - Finished server process [22848]
2025-10-19 22:37:16,626 - app - INFO - config:31 - Application startup......................................
2025-10-19 22:37:16,626 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-19 22:37:27,881 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56842 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-19 22:38:33,196 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-19 22:38:33,306 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-19 22:38:33,306 - app - INFO - config:33 - Application shutdown.....................................
2025-10-19 22:38:33,306 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-19 22:38:33,306 - uvicorn.error - INFO - server:94 - Finished server process [356]
2025-10-20 12:22:56,251 - app - INFO - config:31 - Application startup......................................
2025-10-20 12:22:56,252 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-20 12:23:06,727 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52955 - "GET /docs HTTP/1.1" 200
2025-10-20 12:23:06,859 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52955 - "GET /openapi.json HTTP/1.1" 200
2025-10-20 12:23:32,941 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52956 - "POST /login/access-token HTTP/1.1" 200
2025-10-20 12:26:19,295 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53041 - "GET /patient/87384626 HTTP/1.1" 200
2025-10-20 12:27:05,873 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53064 - "GET /drugread-drug-by-type/2 HTTP/1.1" 403
2025-10-20 12:29:07,247 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-20 12:29:07,354 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-20 12:29:07,354 - app - INFO - config:33 - Application shutdown.....................................
2025-10-20 12:29:07,354 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-20 12:29:07,355 - uvicorn.error - INFO - server:94 - Finished server process [9464]
2025-10-22 00:35:02,227 - app - INFO - config:31 - Application startup......................................
2025-10-22 00:35:02,228 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-22 00:35:12,730 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56423 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 00:35:38,826 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56455 - "POST /login/access-token HTTP/1.1" 500
2025-10-22 00:35:38,826 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 838, in _start_transaction
    self._transaction = self._connection.transaction(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 302, in transaction
    self._check_open()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 1596, in _check_open
    raise exceptions.InterfaceError('connection is closed')
asyncpg.exceptions._base.InterfaceError: connection is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\login.py", line 33, in login_for_access_token
    db_user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".mobile_number = $1::VARCHAR]
[parameters: ('09876543210',)]
(Background on this error at: https://sqlalche.me/e/20/rvf5)
2025-10-22 00:35:50,958 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56483 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 00:42:58,251 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57123 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:42:58,254 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57125 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:43:11,905 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57139 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:43:11,909 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57141 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:49:15,963 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-22 00:49:16,071 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-22 00:49:16,071 - app - INFO - config:33 - Application shutdown.....................................
2025-10-22 00:49:16,072 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-22 00:49:16,072 - uvicorn.error - INFO - server:94 - Finished server process [8560]
2025-10-22 00:49:19,916 - app - INFO - config:31 - Application startup......................................
2025-10-22 00:49:19,916 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-22 00:49:32,352 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57299 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:49:32,355 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57301 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:49:53,622 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57312 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:49:53,625 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57314 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:57:04,581 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-22 00:57:04,691 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-22 00:57:04,691 - app - INFO - config:33 - Application shutdown.....................................
2025-10-22 00:57:04,691 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-22 00:57:04,692 - uvicorn.error - INFO - server:94 - Finished server process [8980]
2025-10-22 00:57:09,496 - app - INFO - config:31 - Application startup......................................
2025-10-22 00:57:09,496 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-22 00:57:24,698 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57444 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 00:57:24,701 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57446 - "GET /users/by-telegram-id/87384626 HTTP/1.1" 404
2025-10-22 01:02:13,322 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57574 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:02:23,151 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57581 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:02:23,159 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57583 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:03:05,752 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57593 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 401
2025-10-22 01:03:22,126 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57598 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:03:43,047 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57605 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:15:00,336 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-22 01:15:00,446 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-22 01:15:00,446 - app - INFO - config:33 - Application shutdown.....................................
2025-10-22 01:15:00,446 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-22 01:15:00,446 - uvicorn.error - INFO - server:94 - Finished server process [15140]
2025-10-22 01:15:04,167 - app - INFO - config:31 - Application startup......................................
2025-10-22 01:15:04,167 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-22 01:15:15,383 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57817 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:15:15,391 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57821 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:15:50,825 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57835 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:15:50,832 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57837 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:32,418 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:34,964 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:35,866 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:37,187 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:38,152 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:42,377 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:17:46,006 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:18:16,648 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57924 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:18:24,670 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57932 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:18:24,678 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57934 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:20:41,919 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57989 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:20:48,976 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57996 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:20:48,984 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57998 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:21:02,404 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58006 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:26:25,567 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58098 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:26:36,922 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58107 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:26:36,930 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58109 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:26:36,938 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58111 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:26:36,945 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58113 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:29:29,132 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58157 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:29:29,139 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58159 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:29:29,147 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58161 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:32:24,245 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58190 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:32:24,253 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58192 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:32:24,260 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58194 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:36:36,809 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-22 01:36:36,821 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58263 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-22 01:36:36,920 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-22 01:36:36,920 - app - INFO - config:33 - Application shutdown.....................................
2025-10-22 01:36:36,921 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-22 01:36:36,921 - uvicorn.error - INFO - server:94 - Finished server process [18876]
2025-10-22 01:36:38,202 - app - INFO - config:31 - Application startup......................................
2025-10-22 01:36:38,203 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-22 01:37:39,896 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58301 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:37:39,904 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58305 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:37:39,911 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58307 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:37:54,470 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58315 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:38:05,392 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58327 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:38:05,400 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58329 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:38:05,408 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58331 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:38:08,425 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58342 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-22 01:38:15,421 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58346 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:38:16,913 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58348 - "GET /message/unread-by-date/dates HTTP/1.1" 422
2025-10-22 01:48:05,129 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58501 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 01:48:13,862 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58508 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:48:13,870 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58510 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:48:13,877 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58512 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:48:16,317 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58516 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-22 01:49:35,061 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58540 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 01:49:36,671 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58542 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-22 01:51:08,005 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58569 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-22 02:02:58,579 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58781 - "POST /login/access-token HTTP/1.1" 200
2025-10-22 02:03:32,062 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58787 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 02:03:32,070 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58789 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 02:03:32,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58791 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 02:03:35,244 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58795 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-22 02:03:45,136 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58802 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 02:03:46,668 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58804 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-22 02:03:59,647 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58808 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-22 02:04:01,527 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58810 - "GET /patient/87384626 HTTP/1.1" 200
2025-10-22 02:04:37,093 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-22 02:04:37,201 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-22 02:04:37,201 - app - INFO - config:33 - Application shutdown.....................................
2025-10-22 02:04:37,202 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-22 02:04:37,202 - uvicorn.error - INFO - server:94 - Finished server process [19076]
2025-10-23 12:54:13,586 - app - INFO - config:31 - Application startup......................................
2025-10-23 12:54:13,587 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 12:54:31,250 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54278 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 12:56:43,570 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54334 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:56:43,579 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54336 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:56:51,217 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54343 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:56:51,225 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54345 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:12,292 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54358 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:12,299 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54360 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:27,811 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54368 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:27,818 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54370 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:37,027 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54372 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:37,035 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54374 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:41,087 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54381 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:41,094 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54383 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:52,483 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54387 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:57:52,489 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54389 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:58:05,157 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54391 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:58:05,164 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54393 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:58:17,000 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54395 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 12:58:17,007 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54397 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:06:53,932 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54521 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:07:07,062 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54529 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:07:07,069 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54531 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:07:25,345 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54539 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:07:25,353 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54541 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:07:29,724 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54550 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:07:29,730 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54552 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:08:50,179 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54565 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:08:50,187 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54567 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:10:11,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54630 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:10:11,022 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54632 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:10:13,084 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54635 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:10:13,092 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54637 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:11:20,541 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54777 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:20,548 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54779 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:22,373 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54783 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:22,381 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54785 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:37,696 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54802 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:37,704 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54804 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:38,393 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54807 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:11:38,406 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54809 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:12:34,704 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54827 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:12:34,714 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54829 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 13:28:34,047 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55064 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 401
2025-10-23 13:28:47,757 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55069 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:29:07,232 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55078 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:29:13,825 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55080 - "GET /user/by-telegram-id/1 HTTP/1.1" 200
2025-10-23 13:35:54,905 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55200 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:36:03,679 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55205 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:36:03,686 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55207 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:36:09,388 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55213 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:36:09,394 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55215 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:40:37,338 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55283 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:40:49,613 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55290 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:40:49,620 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55292 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:40:56,798 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55300 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:40:56,804 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55302 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:43:12,370 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55337 - "GET /user/by-telegram-id/1 HTTP/1.1" 200
2025-10-23 13:43:21,814 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55340 - "GET /user/by-telegram-id/0 HTTP/1.1" 404
2025-10-23 13:43:39,292 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55345 - "GET /user/by-telegram-id/0 HTTP/1.1" 404
2025-10-23 13:45:23,989 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55370 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:45:34,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55375 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:45:34,522 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55377 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:48:25,165 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55425 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:48:33,521 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55429 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:48:33,529 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55431 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:48:48,954 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55437 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:48:48,961 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55439 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:51:29,396 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55465 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:54:30,916 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55511 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:54:30,922 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55513 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:59:09,117 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55576 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 13:59:13,058 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55582 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 13:59:13,065 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55584 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:06:50,774 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55651 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 14:07:03,788 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55664 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:03,795 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55666 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:25,794 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55675 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:25,802 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55678 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:39,169 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55686 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:39,175 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55688 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:41,891 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55690 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:41,898 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55692 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:45,248 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55694 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:07:45,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55696 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:13:47,760 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55772 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 14:14:03,783 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55777 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:03,790 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55779 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:34,227 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55789 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:34,235 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55791 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:38,698 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55793 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:38,705 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55795 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:41,039 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55797 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:41,046 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55799 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:45,165 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55801 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:14:45,172 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55803 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:15:48,208 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55822 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:15:48,215 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55824 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:16:14,367 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55826 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:16:14,374 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55828 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:16:18,010 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55834 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:16:18,018 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55836 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:20:42,034 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55898 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:20:42,043 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55900 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 14:29:21,631 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-23 14:29:21,738 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-23 14:29:21,738 - app - INFO - config:33 - Application shutdown.....................................
2025-10-23 14:29:21,739 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-23 14:29:21,739 - uvicorn.error - INFO - server:94 - Finished server process [23316]
2025-10-23 14:29:28,870 - app - INFO - config:31 - Application startup......................................
2025-10-23 14:29:28,870 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 14:29:34,378 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56076 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 14:29:45,467 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56091 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:29:45,475 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56093 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:29:45,483 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56095 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:30:04,524 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56106 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:30:04,531 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56108 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:30:05,509 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56112 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-23 14:31:22,456 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56138 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:31:22,729 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56140 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-23 14:47:43,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56357 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 14:47:52,310 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56365 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:47:52,318 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56367 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:47:52,325 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56369 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:47:59,604 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56371 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:47:59,612 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56373 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:00,132 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56377 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-23 14:48:01,746 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56379 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:01,755 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56381 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:02,009 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56383 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-23 14:48:23,006 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56418 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:29,108 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56432 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:33,594 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56439 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:52,013 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56459 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 14:48:55,558 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56463 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:48:58,547 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56468 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 14:54:03,280 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56562 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 403
2025-10-23 14:57:16,191 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56982 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 200
2025-10-23 15:00:32,900 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57301 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 500
2025-10-23 15:00:32,901 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 409, in app
    content = await serialize_response(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 252, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'disease_name'), 'msg': 'Field required', 'input': DiseaseType(diseases_name='بیماری پوستی', updated_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_type_id=1, created_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_explain='لک ,جوش, اگزما و ...')}
  {'type': 'missing', 'loc': ('response', 0, 'disease_type_id'), 'msg': 'Field required', 'input': DiseaseType(diseases_name='بیماری پوستی', updated_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_type_id=1, created_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_explain='لک ,جوش, اگزما و ...')}

2025-10-23 15:07:25,846 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57470 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:07:28,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57474 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:07:39,638 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57480 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:07:41,950 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57482 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:07:51,948 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57488 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:07:57,642 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57500 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:03,869 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57507 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:10,228 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57510 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:38,647 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57512 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:45,357 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57516 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:45,365 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57518 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:45,372 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57520 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:56,274 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57524 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:56,281 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57526 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:08:56,288 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57528 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:09:37,924 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57536 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:09:42,665 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57538 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:09:43,599 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57540 - "POST /patient/ HTTP/1.1" 422
2025-10-23 15:12:01,958 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57562 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 15:12:12,140 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57567 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:14,113 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57576 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:19,271 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57578 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:21,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57580 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:27,057 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57582 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:30,094 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57584 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:35,350 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57586 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:12:50,146 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57589 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:13:03,725 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57601 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:13:06,619 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57603 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:13:07,473 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57605 - "POST /patient/ HTTP/1.1" 409
2025-10-23 15:18:25,401 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-23 15:18:25,509 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-23 15:18:25,509 - app - INFO - config:33 - Application shutdown.....................................
2025-10-23 15:18:25,509 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-23 15:18:25,509 - uvicorn.error - INFO - server:94 - Finished server process [8616]
2025-10-23 15:18:27,449 - app - INFO - config:31 - Application startup......................................
2025-10-23 15:18:27,449 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 15:18:32,374 - app - INFO - config:31 - Application startup......................................
2025-10-23 15:18:32,375 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 15:18:46,174 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58050 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 15:18:51,688 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58059 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:18:53,503 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58063 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:14,032 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58069 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:16,078 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58071 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:23,234 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58075 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:27,686 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58078 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:32,006 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58081 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:40,735 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58084 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:51,655 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58103 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:54,050 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58105 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-23 15:19:54,822 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58107 - "POST /patient/ HTTP/1.1" 201
2025-10-23 15:20:22,022 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58131 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:22,029 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58133 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:22,036 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58135 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:26,695 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58147 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:26,703 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58149 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:26,998 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58151 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-23 15:20:46,657 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58193 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:46,666 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58195 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 15:20:46,938 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58197 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-23 15:22:07,847 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58260 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 500
2025-10-23 15:22:07,848 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 409, in app
    content = await serialize_response(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 252, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'disease_type_id'), 'msg': 'Field required', 'input': DiseaseType(diseases_name='بیماری پوستی', updated_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_type_id=1, created_at=datetime.datetime(2025, 10, 7, 16, 36, 58, 832240), diseases_explain='لک ,جوش, اگزما و ...')}

2025-10-23 15:26:44,691 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-23 15:26:44,800 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-23 15:26:44,800 - app - INFO - config:33 - Application shutdown.....................................
2025-10-23 15:26:44,800 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-23 15:26:44,800 - uvicorn.error - INFO - server:94 - Finished server process [6456]
2025-10-23 15:26:49,520 - app - INFO - config:31 - Application startup......................................
2025-10-23 15:26:49,520 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 15:26:55,258 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58332 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 200
2025-10-23 15:30:42,564 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58423 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 200
2025-10-23 17:06:51,976 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59969 - "POST /login/access-token HTTP/1.1" 200
2025-10-23 17:06:53,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59974 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:06:53,059 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59976 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:06:53,550 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59980 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-23 17:06:59,201 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59983 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:06:59,209 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59985 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:06:59,519 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59987 - "GET /message/unread-by-date/2025-10-07 HTTP/1.1" 200
2025-10-23 17:07:07,564 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59991 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:07:07,571 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59993 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:07:07,811 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59995 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-23 17:07:31,206 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60006 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:07:31,213 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60008 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-23 17:07:31,433 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60010 - "GET /disease/ HTTP/1.1" 200
2025-10-23 17:36:55,890 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60651 - "GET /patient/87384626 HTTP/1.1" 200
2025-10-23 17:39:07,493 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-23 17:39:07,602 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-23 17:39:07,603 - app - INFO - config:33 - Application shutdown.....................................
2025-10-23 17:39:07,603 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-23 17:39:07,603 - uvicorn.error - INFO - server:94 - Finished server process [4724]
2025-10-23 17:39:08,768 - app - INFO - config:31 - Application startup......................................
2025-10-23 17:39:08,768 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 17:54:59,110 - app - INFO - config:31 - Application startup......................................
2025-10-23 17:54:59,111 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-23 17:55:43,280 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60859 - "GET /docs HTTP/1.1" 200
2025-10-23 17:55:43,416 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:60859 - "GET /openapi.json HTTP/1.1" 200
2025-10-23 18:29:53,456 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-24 18:33:30,879 - app - INFO - config:31 - Application startup......................................
2025-10-24 18:33:30,880 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-24 18:38:44,869 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54341 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 18:40:08,912 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54376 - "POST /login/access-token HTTP/1.1" 500
2025-10-24 18:40:08,913 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\selector_events.py", line 856, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 843, in _start_transaction
    await self._transaction.start()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 349, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 375, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\login.py", line 33, in login_for_access_token
    db_user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".mobile_number = $1::VARCHAR]
[parameters: ('09876543210',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-24 18:40:15,829 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54387 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 18:40:17,842 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54405 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:01,775 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54450 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:07,205 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54452 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:11,338 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54454 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:15,496 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54456 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:19,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54463 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:24,315 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54465 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:33,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54472 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:47,260 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54480 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:49,260 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54482 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 18:41:50,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54484 - "POST /patient/ HTTP/1.1" 201
2025-10-24 19:10:40,280 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55008 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 19:10:41,221 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55015 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:10:41,273 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55014 - "GET /user/by-telegram-id/667522998 HTTP/1.1" 404
2025-10-24 19:10:44,685 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55028 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:10:53,005 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55035 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:10:54,758 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55037 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:10:59,446 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55040 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:03,349 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55043 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:10,624 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55047 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:24,442 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55053 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:41,922 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55067 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:43,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55069 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:11:45,198 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55076 - "POST /patient/ HTTP/1.1" 201
2025-10-24 19:11:45,206 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55078 - "POST /message/ HTTP/1.1" 422
2025-10-24 19:21:18,043 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-24 19:21:18,150 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-24 19:21:18,150 - app - INFO - config:33 - Application shutdown.....................................
2025-10-24 19:21:18,150 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-24 19:21:18,150 - uvicorn.error - INFO - server:94 - Finished server process [25832]
2025-10-24 19:22:52,625 - app - INFO - config:31 - Application startup......................................
2025-10-24 19:22:52,625 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-24 19:24:49,568 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-24 19:24:49,676 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-24 19:24:49,676 - app - INFO - config:33 - Application shutdown.....................................
2025-10-24 19:24:49,676 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-24 19:24:49,676 - uvicorn.error - INFO - server:94 - Finished server process [24700]
2025-10-24 19:24:52,821 - app - INFO - config:31 - Application startup......................................
2025-10-24 19:24:52,821 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-24 19:25:17,176 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55443 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 19:25:21,233 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55452 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:22,902 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55462 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:28,914 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55465 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:31,436 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55467 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:38,192 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55471 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:43,453 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55474 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:48,163 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55478 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:25:54,948 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55481 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:26:07,665 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55484 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:26:09,056 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55486 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:26:10,152 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55488 - "POST /patient/ HTTP/1.1" 201
2025-10-24 19:26:10,168 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55490 - "POST /message/ HTTP/1.1" 500
2025-10-24 19:26:10,168 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 409, in app
    content = await serialize_response(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 252, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'missing', 'loc': ('response', 'message_id'), 'msg': 'Field required', 'input': Message(created_at=datetime.datetime(2025, 10, 24, 15, 56, 10, 162899), updated_at=datetime.datetime(2025, 10, 24, 15, 56, 10, 162899), patient_id=8, messages_seen=False, attachment_path=[], user_id=None, messages='پرونده جدید برای بیمار «امیر رضا» با موفقیت ثبت شد. این یک پیام خودکار برای نشانه\u200cگذاری شروع تعامل است.', messages_sender=True, messages_id=6)}
  {'type': 'missing', 'loc': ('response', 'message_date'), 'msg': 'Field required', 'input': Message(created_at=datetime.datetime(2025, 10, 24, 15, 56, 10, 162899), updated_at=datetime.datetime(2025, 10, 24, 15, 56, 10, 162899), patient_id=8, messages_seen=False, attachment_path=[], user_id=None, messages='پرونده جدید برای بیمار «امیر رضا» با موفقیت ثبت شد. این یک پیام خودکار برای نشانه\u200cگذاری شروع تعامل است.', messages_sender=True, messages_id=6)}

2025-10-24 19:26:34,567 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55512 - "GET /docs HTTP/1.1" 200
2025-10-24 19:26:34,691 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55512 - "GET /openapi.json HTTP/1.1" 200
2025-10-24 19:34:39,928 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-24 19:34:40,037 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-24 19:34:40,037 - app - INFO - config:33 - Application shutdown.....................................
2025-10-24 19:34:40,037 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-24 19:34:40,037 - uvicorn.error - INFO - server:94 - Finished server process [5876]
2025-10-24 19:34:54,344 - app - INFO - config:31 - Application startup......................................
2025-10-24 19:34:54,344 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-24 19:38:08,561 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-24 19:38:08,669 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-24 19:38:08,669 - app - INFO - config:33 - Application shutdown.....................................
2025-10-24 19:38:08,669 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-24 19:38:08,669 - uvicorn.error - INFO - server:94 - Finished server process [3596]
2025-10-24 19:38:12,525 - app - INFO - config:31 - Application startup......................................
2025-10-24 19:38:12,526 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-24 19:38:21,093 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55882 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 19:38:23,246 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55890 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:24,721 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55894 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:30,413 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55897 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:32,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55900 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:36,986 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55903 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:41,849 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55905 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:38:46,155 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55908 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:39:09,608 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55927 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:39:17,157 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55930 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:39:20,188 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55942 - "GET /user/by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-24 19:39:21,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55944 - "POST /patient/ HTTP/1.1" 201
2025-10-24 19:39:21,272 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55946 - "POST /message/ HTTP/1.1" 201
2025-10-24 19:40:00,235 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55950 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:00,244 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55952 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:00,251 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55954 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:07,606 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55961 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:07,614 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55963 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:07,840 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55965 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-24 19:40:16,802 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55967 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:16,810 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55969 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:17,483 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55971 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-24 19:40:20,050 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55973 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:20,057 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55975 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:20,293 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55977 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-24 19:40:39,781 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55979 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:39,789 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55981 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:40:40,200 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:55983 - "GET /disease/ HTTP/1.1" 200
2025-10-24 19:46:50,890 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56065 - "GET /docs HTTP/1.1" 200
2025-10-24 19:46:51,063 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56065 - "GET /openapi.json HTTP/1.1" 200
2025-10-24 19:56:21,276 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56223 - "POST /login/access-token HTTP/1.1" 200
2025-10-24 19:56:26,624 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56228 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:26,631 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56230 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:27,201 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56234 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-24 19:56:30,194 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56236 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:30,202 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56238 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:30,466 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56240 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-24 19:56:31,976 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56242 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:31,985 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56244 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:32,331 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56246 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-24 19:56:35,523 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56248 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:35,532 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56250 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:35,754 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56252 - "GET /disease/ HTTP/1.1" 200
2025-10-24 19:56:38,740 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56254 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:38,749 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56256 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-24 19:56:38,975 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:56258 - "GET /drugs/by-disease-type/1 HTTP/1.1" 404
2025-10-25 15:04:22,438 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-25 15:04:22,546 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-25 15:04:22,546 - app - INFO - config:33 - Application shutdown.....................................
2025-10-25 15:04:22,546 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-25 15:04:22,546 - uvicorn.error - INFO - server:94 - Finished server process [19732]
2025-10-25 15:20:52,012 - app - INFO - config:31 - Application startup......................................
2025-10-25 15:20:52,012 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 15:21:41,230 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49977 - "GET /docs HTTP/1.1" 200
2025-10-25 15:21:41,422 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49977 - "GET /openapi.json HTTP/1.1" 200
2025-10-25 15:22:03,259 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49978 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 15:22:40,585 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50003 - "POST /disease/ HTTP/1.1" 201
2025-10-25 15:22:57,536 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50011 - "POST /disease/ HTTP/1.1" 201
2025-10-25 15:23:06,998 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50012 - "POST /disease/ HTTP/1.1" 201
2025-10-25 15:23:16,629 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50013 - "POST /disease/ HTTP/1.1" 201
2025-10-25 15:33:09,260 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50115 - "POST /drug/ HTTP/1.1" 403
2025-10-25 15:38:22,477 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50901 - "POST /drug/ HTTP/1.1" 500
2025-10-25 15:38:22,478 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\drug.py", line 45, in create_drug
    await get_disease_type_or_404(drug_in.diseases_type_id, session)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'DrugCreate' object has no attribute 'diseases_type_id'
2025-10-25 16:24:08,229 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-25 16:24:08,336 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-25 16:24:08,336 - app - INFO - config:33 - Application shutdown.....................................
2025-10-25 16:24:08,336 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-25 16:24:08,336 - uvicorn.error - INFO - server:94 - Finished server process [10712]
2025-10-25 16:24:09,570 - app - INFO - config:31 - Application startup......................................
2025-10-25 16:24:09,571 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 16:24:09,684 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-10-25 16:24:10,827 - app - INFO - config:31 - Application startup......................................
2025-10-25 16:24:10,827 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 16:24:18,423 - app - INFO - config:31 - Application startup......................................
2025-10-25 16:24:18,423 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 16:24:27,131 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51461 - "GET /docs HTTP/1.1" 200
2025-10-25 16:24:27,320 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51461 - "GET /openapi.json HTTP/1.1" 200
2025-10-25 16:26:19,448 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51505 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 403
2025-10-25 16:26:39,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51508 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 16:27:04,166 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51519 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 200
2025-10-25 16:27:51,462 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51668 - "GET /disease/?skip=0&limit=100 HTTP/1.1" 200
2025-10-25 16:29:56,637 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51697 - "POST /drug/ HTTP/1.1" 500
2025-10-25 16:29:56,637 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 3477, in add
    state = attributes.instance_state(instance)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'DrugMapCreate' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\drug.py", line 60, in create_drug
    session.add(db_mapping)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1157, in add
    return self._proxied.add(instance, _warn=_warn)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 3479, in add
    raise exc.UnmappedInstanceError(instance) from err
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'app.schemas.drug_map.DrugMapCreate' is not mapped
2025-10-25 16:37:06,493 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-25 16:37:06,601 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-25 16:37:06,601 - app - INFO - config:33 - Application shutdown.....................................
2025-10-25 16:37:06,601 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-25 16:37:06,601 - uvicorn.error - INFO - server:94 - Finished server process [11768]
2025-10-25 16:37:12,208 - app - INFO - config:31 - Application startup......................................
2025-10-25 16:37:12,209 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 16:37:21,361 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51862 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:38:39,093 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52149 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:39:00,910 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52190 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:39:13,091 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52193 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:39:39,786 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52205 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:39:51,490 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52208 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:39:58,252 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52209 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:04,862 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52210 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:11,262 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52211 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:20,524 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52213 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:34,037 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52223 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:41,077 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52224 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:47,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52225 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:40:53,962 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52228 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:01,702 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52229 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:13,107 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52230 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:21,613 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52231 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:29,478 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52236 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:35,436 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52238 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:41:42,958 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52240 - "POST /drug/ HTTP/1.1" 201
2025-10-25 16:42:23,532 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52269 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 401
2025-10-25 16:42:25,378 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52273 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 401
2025-10-25 16:42:57,783 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52290 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 16:43:06,856 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52297 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:06,863 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52299 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:06,872 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52301 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:11,975 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52304 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:11,983 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52306 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:12,484 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52310 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 16:43:15,289 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52313 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:15,297 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52315 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:15,586 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52317 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 16:43:19,832 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52319 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:19,841 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52321 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:20,133 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52323 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 16:43:22,667 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52325 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:22,676 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52327 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:22,987 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52329 - "GET /disease/ HTTP/1.1" 200
2025-10-25 16:43:27,166 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52331 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:27,175 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52333 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 16:43:27,400 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52335 - "GET /drugs/by-disease-type/4 HTTP/1.1" 404
2025-10-25 16:47:09,085 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-25 16:47:09,195 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-25 16:47:09,195 - app - INFO - config:33 - Application shutdown.....................................
2025-10-25 16:47:09,195 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-25 16:47:09,195 - uvicorn.error - INFO - server:94 - Finished server process [4736]
2025-10-25 16:53:03,080 - app - INFO - config:31 - Application startup......................................
2025-10-25 16:53:03,081 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 17:04:57,419 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52875 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:05:09,082 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52882 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:09,092 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52884 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:09,675 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52888 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:05:11,211 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52890 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:11,218 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52892 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:11,441 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52894 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:05:13,006 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52896 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:13,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52898 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:13,449 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52900 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:05:24,293 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52907 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:24,300 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52909 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:25,029 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52911 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:05:33,746 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52913 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:33,754 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52915 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:05:33,991 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52917 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 404
2025-10-25 17:06:09,143 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:52941 - "GET /drugread-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:07:08,261 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-25 17:07:08,370 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-25 17:07:08,370 - app - INFO - config:33 - Application shutdown.....................................
2025-10-25 17:07:08,370 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-25 17:07:08,370 - uvicorn.error - INFO - server:94 - Finished server process [20288]
2025-10-25 17:07:12,536 - app - INFO - config:31 - Application startup......................................
2025-10-25 17:07:12,536 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-25 17:07:18,379 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53015 - "GET /drugread-drug-by-type/4 HTTP/1.1" 404
2025-10-25 17:07:35,355 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53025 - "GET /drugread-drug-by-type/3 HTTP/1.1" 404
2025-10-25 17:07:55,263 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53049 - "GET /docs HTTP/1.1" 200
2025-10-25 17:07:55,449 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53049 - "GET /openapi.json HTTP/1.1" 200
2025-10-25 17:08:08,312 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53050 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 403
2025-10-25 17:08:26,709 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53073 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:08:49,144 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53089 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:09:09,612 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53116 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:09,622 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53118 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:10,335 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53122 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:09:12,018 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53125 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:12,026 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53127 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:12,310 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53129 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:09:13,871 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53132 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:13,880 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53134 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:14,121 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53136 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:09:16,630 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53138 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:16,638 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53140 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:16,873 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53142 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:09:20,771 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53145 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:20,779 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53147 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:09:21,014 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53149 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:15:34,446 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53269 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:15:37,350 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53274 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:37,357 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53276 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:37,816 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53280 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:15:39,141 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53282 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:39,149 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53284 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:39,381 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53286 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:15:40,598 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53288 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:40,607 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53290 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:40,850 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53292 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:15:44,974 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53300 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:44,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53302 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:45,258 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53304 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:15:46,833 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53306 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:46,841 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53308 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:47,104 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53310 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:15:51,733 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53314 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:15:51,740 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53316 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:06,834 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53389 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:21:10,792 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53394 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:10,800 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53396 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:11,300 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53400 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:21:15,247 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53402 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:15,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53404 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:15,542 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53406 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:21:16,699 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53408 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:16,707 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53410 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:16,996 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53412 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:21:21,651 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53414 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:21,659 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53416 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:21,986 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53418 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:21:23,655 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53420 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:23,662 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53422 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:24,002 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53424 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:21:28,059 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53426 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:28,067 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53428 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:28,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53430 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:35,431 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53432 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:35,439 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53434 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:35,447 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53436 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,260 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53438 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,267 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53440 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,275 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53442 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53444 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,971 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53446 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:36,979 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53448 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:37,491 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53450 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:37,498 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53452 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:37,507 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53454 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:38,157 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53456 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:38,165 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53458 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:21:38,173 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53460 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:50:52,032 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53800 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:50:59,658 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53815 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:50:59,665 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53817 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:50:59,674 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53819 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:01,759 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53821 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:01,765 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53823 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:01,774 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53825 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:04,305 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53827 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:04,313 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53829 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:04,826 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53833 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:51:06,431 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53835 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:06,438 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53837 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:06,726 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53839 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:51:08,261 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53841 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:08,268 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53843 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:08,603 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53845 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:51:11,287 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53847 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:11,294 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53849 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:11,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53851 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:51:13,127 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53853 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:13,135 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53855 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:13,462 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53857 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:51:18,013 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53859 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:18,020 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53861 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:51:18,029 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53863 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:29,791 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53942 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 17:57:41,564 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53947 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:41,572 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53949 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:42,076 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53953 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 17:57:44,804 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53958 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:44,812 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53960 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:45,117 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53962 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 17:57:46,790 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53966 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:46,797 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53968 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:47,159 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53970 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 17:57:52,508 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53976 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:52,515 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53978 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:52,773 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53980 - "GET /disease/ HTTP/1.1" 200
2025-10-25 17:57:54,532 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53982 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:54,539 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53984 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:54,802 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53986 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 17:57:56,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53988 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:56,594 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53990 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:58,730 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53992 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:57:58,738 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53995 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:58:00,300 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53997 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:58:00,308 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53999 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:58:03,562 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54001 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 17:58:03,571 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54003 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:24,060 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54105 - "POST /login/access-token HTTP/1.1" 200
2025-10-25 18:02:27,871 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54110 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:27,881 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54113 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:28,340 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54117 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-25 18:02:29,963 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54119 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:29,971 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54121 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:30,238 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54123 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-25 18:02:31,882 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54125 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:31,889 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54127 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:32,230 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54129 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-25 18:02:35,249 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54131 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:35,256 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54133 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:35,523 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54135 - "GET /disease/ HTTP/1.1" 200
2025-10-25 18:02:37,204 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54137 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:37,213 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54139 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:37,503 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54141 - "GET /drug/read-drug-by-type/4 HTTP/1.1" 200
2025-10-25 18:02:39,471 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54143 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:39,479 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54145 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:40,579 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54147 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:40,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54149 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:41,628 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54151 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:41,636 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54153 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:43,684 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54155 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:43,692 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54157 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:56,532 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54165 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:56,541 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54167 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-25 18:02:56,549 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54169 - "GET /user/by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 12:14:32,614 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-26 12:14:32,724 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-26 12:14:32,724 - app - INFO - config:33 - Application shutdown.....................................
2025-10-26 12:14:32,725 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-26 12:14:32,725 - uvicorn.error - INFO - server:94 - Finished server process [24808]
2025-10-26 17:04:44,029 - app - INFO - config:31 - Application startup......................................
2025-10-26 17:04:44,029 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-26 17:04:54,236 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57387 - "GET /docs HTTP/1.1" 200
2025-10-26 17:05:15,787 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57388 - "GET /openapi.json HTTP/1.1" 200
2025-10-26 17:05:20,298 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57388 - "GET /docs HTTP/1.1" 200
2025-10-26 17:05:41,707 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57405 - "GET /openapi.json HTTP/1.1" 200
2025-10-26 17:05:51,283 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-26 17:05:51,393 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-26 17:05:51,393 - app - INFO - config:33 - Application shutdown.....................................
2025-10-26 17:05:51,394 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-26 17:05:51,394 - uvicorn.error - INFO - server:94 - Finished server process [19352]
2025-10-26 17:05:56,966 - app - INFO - config:31 - Application startup......................................
2025-10-26 17:05:56,966 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-26 17:06:25,022 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57436 - "GET /docs HTTP/1.1" 200
2025-10-26 17:06:25,805 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57436 - "GET /openapi.json HTTP/1.1" 200
2025-10-26 17:06:48,593 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57437 - "POST /login/access-token HTTP/1.1" 200
2025-10-26 17:09:33,484 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:57735 - "POST /order/ HTTP/1.1" 201
2025-10-26 17:21:46,277 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-26 17:21:46,386 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-26 17:21:46,386 - app - INFO - config:33 - Application shutdown.....................................
2025-10-26 17:21:46,387 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-26 17:21:46,387 - uvicorn.error - INFO - server:94 - Finished server process [17708]
2025-10-26 18:14:33,702 - app - INFO - config:31 - Application startup......................................
2025-10-26 18:14:33,702 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-26 18:14:36,180 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58852 - "GET /docs HTTP/1.1" 200
2025-10-26 18:14:36,565 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:58852 - "GET /openapi.json HTTP/1.1" 200
2025-10-26 19:01:30,998 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59291 - "POST /login/access-token HTTP/1.1" 200
2025-10-26 19:02:03,553 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59353 - "POST /login/access-token HTTP/1.1" 500
2025-10-26 19:02:03,554 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 838, in _start_transaction
    self._transaction = self._connection.transaction(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 302, in transaction
    self._check_open()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\connection.py", line 1596, in _check_open
    raise exceptions.InterfaceError('connection is closed')
asyncpg.exceptions._base.InterfaceError: connection is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\login.py", line 33, in login_for_access_token
    db_user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 515, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 845, in _start_transaction
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".mobile_number = $1::VARCHAR]
[parameters: ('09876543210',)]
(Background on this error at: https://sqlalche.me/e/20/rvf5)
2025-10-26 19:02:07,959 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59363 - "POST /login/access-token HTTP/1.1" 200
2025-10-26 19:02:54,479 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59419 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:54,490 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59421 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:55,001 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59425 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-26 19:02:57,339 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59427 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:57,347 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59429 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:57,746 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59431 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-26 19:02:59,311 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59433 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:59,319 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59435 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:02:59,627 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59437 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-26 19:03:04,778 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59439 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:04,785 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59441 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:05,071 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59443 - "GET /disease/ HTTP/1.1" 200
2025-10-26 19:03:06,852 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59455 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:06,860 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59457 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:07,256 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59459 - "GET /drug/read-drug-by-type/3 HTTP/1.1" 200
2025-10-26 19:03:09,817 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59461 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:09,824 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59463 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:11,261 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59465 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:11,269 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59467 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:14,375 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59469 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:14,383 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59471 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:03:14,618 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59473 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 500
2025-10-26 19:03:14,618 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg\\protocol\\codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg\\protocol\\codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
  File "asyncpg\\protocol\\protocol.pyx", line 185, in bind_execute
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 87384626 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 87384626 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\user.py", line 247, in read_user_by_telegram_id
    user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 87384626 (expected str, got int)
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".telegram_id = $1::VARCHAR]
[parameters: (87384626,)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-26 19:05:06,632 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59509 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 403
2025-10-26 19:05:06,665 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59509 - "GET /favicon.ico HTTP/1.1" 404
2025-10-26 19:05:06,687 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59509 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 403
2025-10-26 19:05:52,294 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59510 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 403
2025-10-26 19:06:17,824 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59596 - "POST /login/access-token HTTP/1.1" 200
2025-10-26 19:06:39,553 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59601 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 500
2025-10-26 19:06:39,554 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg\\protocol\\codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg\\protocol\\codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
  File "asyncpg\\protocol\\protocol.pyx", line 185, in bind_execute
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 87384626 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 87384626 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\user.py", line 247, in read_user_by_telegram_id
    user = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 87384626 (expected str, got int)
[SQL: SELECT "tbl_User".created_at, "tbl_User".updated_at, "tbl_User".telegram_id, "tbl_User".full_name, "tbl_User".national_code, "tbl_User".mobile_number, "tbl_User".address, "tbl_User".is_active, "tbl_User".is_verified, "tbl_User".user_id, "tbl_User".hashed_password, "tbl_User".last_login, "tbl_User".login_attempts, "tbl_User".role_id 
FROM "tbl_User" 
WHERE "tbl_User".telegram_id = $1::VARCHAR]
[parameters: (87384626,)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-26 19:07:58,139 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-26 19:07:58,249 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-26 19:07:58,249 - app - INFO - config:33 - Application shutdown.....................................
2025-10-26 19:07:58,249 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-26 19:07:58,249 - uvicorn.error - INFO - server:94 - Finished server process [11260]
2025-10-26 19:08:07,169 - app - INFO - config:31 - Application startup......................................
2025-10-26 19:08:07,170 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-26 19:08:16,684 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59672 - "POST /login/access-token HTTP/1.1" 200
2025-10-26 19:08:21,795 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59680 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:21,804 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59682 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:22,228 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59686 - "GET /message/unread-message-dates/ HTTP/1.1" 200
2025-10-26 19:08:23,591 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59688 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:23,598 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59690 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:23,830 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59692 - "GET /message/unread-by-date/2025-10-24 HTTP/1.1" 200
2025-10-26 19:08:24,985 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59694 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:24,993 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59696 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:25,272 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59698 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-26 19:08:27,702 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59701 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:27,709 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59703 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:28,020 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59705 - "GET /disease/ HTTP/1.1" 200
2025-10-26 19:08:29,743 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59707 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:29,751 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59709 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:29,971 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59711 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-26 19:08:31,637 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59714 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:31,644 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59716 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:32,597 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59718 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:32,604 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59720 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:33,936 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59722 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:33,944 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59724 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:34,544 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59726 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-26 19:08:34,552 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59728 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-26 19:08:34,580 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:59730 - "POST /order/ HTTP/1.1" 201
2025-10-26 21:45:58,258 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-26 21:45:58,368 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-26 21:45:58,368 - app - INFO - config:33 - Application shutdown.....................................
2025-10-26 21:45:58,368 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-26 21:45:58,368 - uvicorn.error - INFO - server:94 - Finished server process [21412]
2025-10-27 17:13:59,591 - app - INFO - config:31 - Application startup......................................
2025-10-27 17:13:59,592 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-27 17:13:59,625 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51589 - "GET /docs HTTP/1.1" 200
2025-10-27 17:13:59,757 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51589 - "GET /openapi.json HTTP/1.1" 200
2025-10-27 17:14:12,918 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51590 - "GET /docs HTTP/1.1" 200
2025-10-27 17:14:12,977 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51590 - "GET /openapi.json HTTP/1.1" 200
2025-10-27 17:14:31,095 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51591 - "POST /login/access-token HTTP/1.1" 200
2025-10-27 17:17:30,561 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:51692 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 17:17:30,623 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-27 17:17:30,733 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-27 17:17:30,733 - app - INFO - config:33 - Application shutdown.....................................
2025-10-27 17:17:30,733 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-27 17:17:30,733 - uvicorn.error - INFO - server:94 - Finished server process [15340]
2025-10-27 17:17:31,919 - app - INFO - config:31 - Application startup......................................
2025-10-27 17:17:31,919 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-27 17:41:11,281 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-27 17:41:11,369 - uvicorn.error - INFO - server:299 - Waiting for connections to close. (CTRL+C to force quit)
2025-10-27 17:41:11,627 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53793 - "POST /login/access-token HTTP/1.1" 200
2025-10-27 17:41:11,627 - uvicorn.error - INFO - server:306 - Waiting for background tasks to complete. (CTRL+C to force quit)
2025-10-27 17:41:11,738 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-27 17:41:11,738 - app - INFO - config:33 - Application shutdown.....................................
2025-10-27 17:41:11,738 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-27 17:41:11,738 - uvicorn.error - INFO - server:94 - Finished server process [16076]
2025-10-27 17:41:12,900 - app - INFO - config:31 - Application startup......................................
2025-10-27 17:41:12,900 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-27 17:41:13,009 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-10-27 17:41:14,123 - app - INFO - config:31 - Application startup......................................
2025-10-27 17:41:14,123 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-27 17:42:20,082 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53828 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:20,090 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53832 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:20,703 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53836 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 17:42:27,825 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53838 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:27,832 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53840 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:28,101 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53842 - "GET /patient/awaiting-for-consultation-by-date/2025-10-24 HTTP/1.1" 200
2025-10-27 17:42:30,984 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53844 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:30,992 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53846 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:31,269 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53848 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-27 17:42:33,672 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53850 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:33,680 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53852 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:34,240 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53854 - "GET /disease/ HTTP/1.1" 200
2025-10-27 17:42:38,672 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53856 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:38,680 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53858 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:38,911 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53860 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-27 17:42:40,710 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53862 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:40,718 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53864 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:41,859 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53866 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:41,866 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53868 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:43,016 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53870 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:43,023 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53872 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:44,933 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53874 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:44,940 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53876 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:45,326 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53878 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:42:45,333 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53880 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-27 17:42:45,363 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53882 - "POST /order/ HTTP/1.1" 201
2025-10-27 17:45:00,192 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53906 - "POST /login/access-token HTTP/1.1" 200
2025-10-27 17:45:05,790 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53911 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:05,798 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53913 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:06,478 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53917 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 17:45:08,635 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53919 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:08,643 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53921 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:08,948 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53923 - "GET /patient/awaiting-for-consultation-by-date/2025-10-23 HTTP/1.1" 200
2025-10-27 17:45:10,680 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53925 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:10,687 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53927 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:10,969 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53929 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 17:45:13,802 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53931 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:13,811 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53933 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:14,038 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53935 - "GET /disease/ HTTP/1.1" 200
2025-10-27 17:45:15,377 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53938 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:15,385 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53940 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:15,721 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53944 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-27 17:45:17,813 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53946 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:17,821 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53948 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:18,836 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53950 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:18,843 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53952 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:20,279 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53958 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:20,286 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53960 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:20,632 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53962 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:45:20,640 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53964 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 17:45:20,662 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:53966 - "POST /order/ HTTP/1.1" 201
2025-10-27 17:50:53,777 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54027 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:53,785 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54029 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:54,089 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54031 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 17:50:55,291 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54033 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:55,299 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54035 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:55,532 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54037 - "GET /patient/awaiting-for-consultation-by-date/2025-10-23 HTTP/1.1" 200
2025-10-27 17:50:56,681 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54039 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:56,689 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54041 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:56,996 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54043 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 17:50:58,964 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54047 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:58,970 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54049 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:50:59,190 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54051 - "GET /disease/ HTTP/1.1" 200
2025-10-27 17:51:01,288 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54053 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:01,296 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54055 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:01,531 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54057 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-27 17:51:02,982 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54059 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:02,990 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54061 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:03,242 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54063 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:03,249 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54065 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:03,579 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54069 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:03,587 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54071 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:06,224 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54073 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:06,230 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54075 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:06,479 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54077 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:06,486 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54079 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 17:51:06,509 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54081 - "POST /order/ HTTP/1.1" 201
2025-10-27 17:51:30,540 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54093 - "POST /login/access-token HTTP/1.1" 200
2025-10-27 17:51:37,135 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54098 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:37,142 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54100 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:37,765 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54104 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 17:51:39,327 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54106 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:39,335 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54108 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:39,584 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54110 - "GET /patient/awaiting-for-consultation-by-date/2025-10-24 HTTP/1.1" 200
2025-10-27 17:51:40,967 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54112 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:40,975 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54114 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:41,258 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54116 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-27 17:51:44,145 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54118 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:44,152 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54120 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:44,483 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54122 - "GET /disease/ HTTP/1.1" 200
2025-10-27 17:51:46,974 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54124 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:46,981 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54126 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:47,240 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54128 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-27 17:51:57,613 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54130 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:57,620 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54132 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:58,735 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54137 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:51:58,742 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54139 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:52:01,245 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54141 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:52:01,252 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54143 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:52:01,634 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54145 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 17:52:01,640 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54147 - "GET /patient/7439340671 HTTP/1.1" 200
2025-10-27 17:52:01,660 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54149 - "POST /order/ HTTP/1.1" 201
2025-10-27 17:52:01,668 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54151 - "PATCH /patient/7439340671 HTTP/1.1" 500
2025-10-27 17:52:01,668 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg\\protocol\\codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg\\protocol\\codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
  File "asyncpg\\protocol\\protocol.pyx", line 185, in bind_execute
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 7439340671 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 7439340671 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\patient.py", line 131, in update_patient
    db_patient = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 7439340671 (expected str, got int)
[SQL: SELECT "tbl_Patient".created_at, "tbl_Patient".updated_at, "tbl_Patient".full_name, "tbl_Patient".sex, "tbl_Patient".age, "tbl_Patient".weight, "tbl_Patient".height, "tbl_Patient".mobile_number, "tbl_Patient".postal_code, "tbl_Patient".address, "tbl_Patient".telegram_id, "tbl_Patient".patient_status, "tbl_Patient".specific_diseases, "tbl_Patient".consultant_type, "tbl_Patient".special_conditions, "tbl_Patient".photo_paths, "tbl_Patient".patient_id 
FROM "tbl_Patient" 
WHERE "tbl_Patient".telegram_id = $1::VARCHAR]
[parameters: (7439340671,)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-27 17:55:17,919 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54246 - "PATCH /patient/7439340671 HTTP/1.1" 500
2025-10-27 17:55:17,920 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg\\protocol\\codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg\\protocol\\codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg\\pgproto\\./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
  File "asyncpg\\protocol\\protocol.pyx", line 185, in bind_execute
  File "asyncpg\\protocol\\prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 7439340671 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 7439340671 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 387, in app
    raw_response = await run_endpoint_function(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\app\routes\patient.py", line 131, in update_patient
    db_patient = (await session.exec(statement)).one_or_none()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\ext\asyncio\session.py", line 98, in exec
    result = await greenlet_spawn(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlmodel\orm\session.py", line 83, in exec
    results = super().execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 7439340671 (expected str, got int)
[SQL: SELECT "tbl_Patient".created_at, "tbl_Patient".updated_at, "tbl_Patient".full_name, "tbl_Patient".sex, "tbl_Patient".age, "tbl_Patient".weight, "tbl_Patient".height, "tbl_Patient".mobile_number, "tbl_Patient".postal_code, "tbl_Patient".address, "tbl_Patient".telegram_id, "tbl_Patient".patient_status, "tbl_Patient".specific_diseases, "tbl_Patient".consultant_type, "tbl_Patient".special_conditions, "tbl_Patient".photo_paths, "tbl_Patient".patient_id 
FROM "tbl_Patient" 
WHERE "tbl_Patient".telegram_id = $1::VARCHAR]
[parameters: (7439340671,)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-27 17:58:49,638 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-27 17:58:49,747 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-27 17:58:49,747 - app - INFO - config:33 - Application shutdown.....................................
2025-10-27 17:58:49,747 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-27 17:58:49,747 - uvicorn.error - INFO - server:94 - Finished server process [3420]
2025-10-27 17:58:56,939 - app - INFO - config:31 - Application startup......................................
2025-10-27 17:58:56,940 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-27 17:59:08,193 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54377 - "POST /login/access-token HTTP/1.1" 200
2025-10-27 17:59:31,561 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54409 - "PATCH /patient/7439340671 HTTP/1.1" 200
2025-10-27 18:00:08,997 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54424 - "PATCH /patient/7439340671 HTTP/1.1" 200
2025-10-27 18:00:28,968 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54441 - "PATCH /patient/7439340671 HTTP/1.1" 200
2025-10-27 18:02:32,278 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54510 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:32,286 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54512 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:32,739 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54516 - "GET /patient/waiting-for-consultation-dates/ HTTP/1.1" 200
2025-10-27 18:02:34,051 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54518 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:34,058 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54520 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:34,335 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54522 - "GET /patient/awaiting-for-consultation-by-date/2025-10-23 HTTP/1.1" 200
2025-10-27 18:02:35,702 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54525 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:35,711 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54527 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:36,011 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54529 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 18:02:37,862 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54532 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:37,870 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54534 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:38,149 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54536 - "GET /disease/ HTTP/1.1" 200
2025-10-27 18:02:39,459 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54538 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:39,467 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54540 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:39,714 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54542 - "GET /drug/read-drug-by-type/2 HTTP/1.1" 200
2025-10-27 18:02:41,101 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54545 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:41,110 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54547 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:41,370 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54549 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:41,378 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54551 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:42,949 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54555 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:42,955 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54557 - "GET /user/role-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:43,297 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54559 - "GET /user/read-by-telegram-id/87384626 HTTP/1.1" 200
2025-10-27 18:02:43,304 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54561 - "GET /patient/667522998 HTTP/1.1" 200
2025-10-27 18:02:43,339 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54563 - "POST /order/ HTTP/1.1" 201
2025-10-27 18:02:43,348 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54565 - "PATCH /patient/667522998 HTTP/1.1" 200
2025-10-28 14:06:14,767 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:54921 - "PATCH /patient/7439340671 HTTP/1.1" 401
2025-10-28 17:46:43,219 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64463 - "POST /login/access-token HTTP/1.1" 200
2025-10-28 17:46:44,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64468 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:46:44,265 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64470 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:46:44,275 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64472 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:46:55,239 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64479 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:46:55,247 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64481 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:46:55,255 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64483 - "GET /user/role-by-telegram-id/7439340671 HTTP/1.1" 404
2025-10-28 17:57:52,400 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:64642 - "POST /login/access-token HTTP/1.1" 200
2025-10-28 18:55:12,554 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-28 18:55:12,664 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-28 18:55:12,664 - app - INFO - config:33 - Application shutdown.....................................
2025-10-28 18:55:12,665 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-28 18:55:12,665 - uvicorn.error - INFO - server:94 - Finished server process [6772]
2025-10-28 18:55:14,775 - app - INFO - config:31 - Application startup......................................
2025-10-28 18:55:14,775 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 18:55:14,864 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-10-28 18:55:20,862 - app - INFO - config:31 - Application startup......................................
2025-10-28 18:55:20,862 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 18:55:28,269 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65268 - "GET /docs HTTP/1.1" 200
2025-10-28 18:55:28,401 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65268 - "GET /openapi.json HTTP/1.1" 200
2025-10-28 18:55:45,259 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65269 - "POST /login/access-token HTTP/1.1" 200
2025-10-28 18:56:22,418 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65286 - "GET /order/get-order-by-status-by-patient-id/7/%7Bstatus%7D?order_status=Created HTTP/1.1" 404
2025-10-28 18:56:31,028 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65297 - "GET /order/get-order-by-status-by-patient-id/4/%7Bstatus%7D?order_status=Created HTTP/1.1" 500
2025-10-28 18:56:31,028 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 409, in app
    content = await serialize_response(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 252, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'payment_list'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Order(updated_at=datetime.datetime(2025, 10, 26, 13, 39, 33, 455381), patient_id=4, order_status=<OrderStatusEnum.CREATED: 'Created'>, created_at=datetime.datetime(2025, 10, 26, 13, 39, 33, 455381), user_id=7, order_id=1), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2025-10-28 19:05:52,808 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65450 - "GET /order/1 HTTP/1.1" 500
2025-10-28 19:05:52,809 - uvicorn.error - ERROR - httptools_impl:414 - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 109, in app
    response = await f(request)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 409, in app
    content = await serialize_response(
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\fastapi\routing.py", line 252, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 'payment_list'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Order(updated_at=datetime.datetime(2025, 10, 26, 13, 39, 33, 455381), patient_id=4, order_status=<OrderStatusEnum.CREATED: 'Created'>, created_at=datetime.datetime(2025, 10, 26, 13, 39, 33, 455381), user_id=7, order_id=1), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2025-10-28 19:09:20,142 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-28 19:09:20,252 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-28 19:09:20,252 - app - INFO - config:33 - Application shutdown.....................................
2025-10-28 19:09:20,252 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-28 19:09:20,252 - uvicorn.error - INFO - server:94 - Finished server process [15528]
2025-10-28 19:09:23,829 - app - INFO - config:31 - Application startup......................................
2025-10-28 19:09:23,829 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 19:09:28,896 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:65525 - "GET /order/1 HTTP/1.1" 200
2025-10-28 19:09:44,387 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49154 - "GET /order/get-order-by-status-by-patient-id/4/%7Bstatus%7D?order_status=Created HTTP/1.1" 200
2025-10-28 19:18:21,310 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-28 19:18:21,419 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-28 19:18:21,419 - app - INFO - config:33 - Application shutdown.....................................
2025-10-28 19:18:21,419 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-28 19:18:21,419 - uvicorn.error - INFO - server:94 - Finished server process [18344]
2025-10-28 19:24:36,493 - app - INFO - config:31 - Application startup......................................
2025-10-28 19:24:36,493 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 19:24:41,721 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49690 - "GET /order/get-order-by-status-by-patient-id/4/%7Bstatus%7D?order_status=Created HTTP/1.1" 200
2025-10-28 19:24:45,858 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:49690 - "GET /order/get-order-by-status-by-patient-id/4/%7Bstatus%7D?order_status=Created HTTP/1.1" 200
2025-10-28 20:06:14,483 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-28 20:06:14,593 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-28 20:06:14,593 - app - INFO - config:33 - Application shutdown.....................................
2025-10-28 20:06:14,593 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-28 20:06:14,593 - uvicorn.error - INFO - server:94 - Finished server process [17860]
2025-10-28 20:06:15,992 - app - INFO - config:31 - Application startup......................................
2025-10-28 20:06:15,992 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 20:06:15,995 - uvicorn.error - ERROR - on:134 - Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\_compat.py", line 53, in asyncio_run
    return loop.run_until_complete(main)
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 628, in run_until_complete
    self.run_forever()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 595, in run_forever
    self._run_once()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1881, in _run_once
    handle._run()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 70, in serve
    with self.capture_signals():
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\server.py", line 331, in capture_signals
    signal.raise_signal(captured_signal)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\MS511\Desktop\Customers\Dr_Fazel\Project2\Fazel_Pharma\.venv\lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
  File "C:\Users\MS511\AppData\Local\Programs\Python\Python310\lib\asyncio\queues.py", line 159, in get
    await getter
asyncio.exceptions.CancelledError

2025-10-28 20:06:17,247 - app - INFO - config:31 - Application startup......................................
2025-10-28 20:06:17,247 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 20:06:19,823 - app - INFO - config:31 - Application startup......................................
2025-10-28 20:06:19,823 - uvicorn.error - INFO - on:62 - Application startup complete.
2025-10-28 20:06:23,283 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50232 - "GET /docs HTTP/1.1" 200
2025-10-28 20:06:23,469 - uvicorn.access - INFO - httptools_impl:476 - 127.0.0.1:50232 - "GET /openapi.json HTTP/1.1" 200
2025-10-28 20:31:24,347 - uvicorn.error - INFO - server:264 - Shutting down
2025-10-28 20:31:24,455 - uvicorn.error - INFO - on:67 - Waiting for application shutdown.
2025-10-28 20:31:24,455 - app - INFO - config:33 - Application shutdown.....................................
2025-10-28 20:31:24,455 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-10-28 20:31:24,455 - uvicorn.error - INFO - server:94 - Finished server process [12864]
