# app/schemas/user_role_schema.py

from typing import Optional
from sqlmodel import SQLModel

# ---------------------------------------------------------------------------
# 1. اسکیمای ورودی برای ایجاد یک نقش جدید (CREATE)
# ---------------------------------------------------------------------------
class UserRoleCreate(SQLModel):
    role_name: str
    # نکته: در مدل user_role.py، فیلد role_type یک کلید خارجی به permission_id است
    # که شاید منطق درستی نباشد. یک نقش (Role) یک نوع (type) دارد،
    # اما یک نوع (type) لزوما یک دسترسی (permission) نیست.
    # من فعلا طبق مدل شما آن را int در نظر می‌گیرم.
    role_type: int

# ---------------------------------------------------------------------------
# 2. اسکیمای خروجی برای نمایش اطلاعات نقش (READ)
# ---------------------------------------------------------------------------
class UserRoleRead(UserRoleCreate):
    role_id: int

# ---------------------------------------------------------------------------
# 3. اسکیمای ورودی برای آپدیت یک نقش موجود (UPDATE)
# ---------------------------------------------------------------------------
class UserRoleUpdate(SQLModel):
    role_name: Optional[str] = None
    role_type: Optional[int] = None
